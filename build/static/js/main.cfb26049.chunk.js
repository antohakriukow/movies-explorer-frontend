(this["webpackJsonpmovies-explorer-frontend"]=this["webpackJsonpmovies-explorer-frontend"]||[]).push([[0],Array(30).concat([function(e,t,n){},function(e,t,n){},,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(1),s=n.n(a),i=n(22),c=n.n(i),r=n(2),o=(n(30),n(24)),l=n(4),u=n(3),j=(n(31),n(0)),d=function(e){var t=e.path,n=e.handleMenuSwitcher,a="navigation-login__btn ".concat("/"===t?"navigation-login__btn_white":""),s="navigation-login__btn navigation-login__btn_thin ".concat("/"===t?"navigation-login__btn_white":""),i="navigation-login__btn navigation-login__btn_oval ".concat("/"===t?"navigation-login__btn_white navigation-login__btn_transparent":"");return Object(j.jsxs)("section",{className:"navigation-login",children:[Object(j.jsx)("button",{className:"navigation-login__menu",onClick:n}),Object(j.jsx)(r.b,{to:"/movies",className:a,children:"\u0424\u0438\u043b\u044c\u043c\u044b"}),Object(j.jsx)(r.b,{to:"/saved-movies",className:s,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043d\u044b\u0435 \u0444\u0438\u043b\u044c\u043c\u044b"}),Object(j.jsx)(r.b,{to:"/profile",className:i,children:"\u0410\u043a\u043a\u0430\u0443\u043d\u0442"})]})},m=(n(38),function(){return Object(j.jsxs)("section",{className:"navigation-logout",children:[Object(j.jsx)(r.b,{to:"/signup",className:"navigation-logout__btn",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(j.jsx)(r.b,{to:"/signin",className:"navigation-logout__btn navigation-logout__btn_square",children:"\u0412\u043e\u0439\u0442\u0438"})]})}),h=(n(39),function(e){var t=e.path,n=e.handleMenuSwitcher,a=e.isAutenticated,s="header ".concat("/signin"===t||"/signup"===t?"header_hidden":"");return Object(j.jsxs)("section",{className:s,children:[Object(j.jsx)("a",{href:"/",className:"header__logo",children:"."}),Object(j.jsx)("div",{className:"header__menu-area",children:a?Object(j.jsx)(d,{path:t,handleMenuSwitcher:n}):Object(j.jsx)(m,{})})]})}),b=(n(40),n.p+"static/media/promo_back_img.be95fd4a.png"),p=function(){return Object(j.jsx)("section",{className:"promo",children:Object(j.jsxs)("div",{className:"promo__container",children:[Object(j.jsx)("h1",{className:"promo__title",children:"\u0423\u0447\u0435\u0431\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u0430 \u0444\u0430\u043a\u0443\u043b\u044c\u0442\u0435\u0442\u0430 \u0412\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438."}),Object(j.jsx)("img",{className:"promo__img",src:b,alt:"promo_img"})]})})},_=(n(41),function(){return Object(j.jsxs)("section",{className:"aboutproject",id:"project",children:[Object(j.jsx)("h2",{className:"aboutproject__title",children:"\u041e \u043f\u0440\u043e\u0435\u043a\u0442\u0435"}),Object(j.jsxs)("div",{className:"aboutproject__cards-area",children:[Object(j.jsxs)("div",{className:"aboutproject__card",children:[Object(j.jsx)("p",{className:"aboutproject__card-title",children:"\u0414\u0438\u043f\u043b\u043e\u043c\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u0432\u043a\u043b\u044e\u0447\u0430\u043b 5 \u044d\u0442\u0430\u043f\u043e\u0432"}),Object(j.jsx)("p",{className:"aboutproject__card-text",children:"\u0421\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u043b\u0430\u043d\u0430, \u0440\u0430\u0431\u043e\u0442\u0443 \u043d\u0430\u0434 \u0431\u044d\u043a\u0435\u043d\u0434\u043e\u043c, \u0432\u0451\u0440\u0441\u0442\u043a\u0443, \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u0438 \u0444\u0438\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u043e\u0440\u0430\u0431\u043e\u0442\u043a\u0438."})]}),Object(j.jsxs)("div",{className:"aboutproject__card",children:[Object(j.jsx)("p",{className:"aboutproject__card-title",children:"\u041d\u0430 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u0434\u0438\u043f\u043b\u043e\u043c\u0430 \u0443\u0448\u043b\u043e 5 \u043d\u0435\u0434\u0435\u043b\u044c"}),Object(j.jsx)("p",{className:"aboutproject__card-text",children:"\u0423 \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u044d\u0442\u0430\u043f\u0430 \u0431\u044b\u043b \u043c\u044f\u0433\u043a\u0438\u0439 \u0438 \u0436\u0451\u0441\u0442\u043a\u0438\u0439 \u0434\u0435\u0434\u043b\u0430\u0439\u043d, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043d\u0443\u0436\u043d\u043e \u0431\u044b\u043b\u043e \u0441\u043e\u0431\u043b\u044e\u0434\u0430\u0442\u044c, \u0447\u0442\u043e\u0431\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0449\u0438\u0442\u0438\u0442\u044c\u0441\u044f."})]})]}),Object(j.jsxs)("div",{className:"aboutproject__time-container",children:[Object(j.jsx)("div",{className:"aboutproject__progress aboutproject__progress_green",children:"1 \u043d\u0435\u0434\u0435\u043b\u044f"}),Object(j.jsx)("div",{className:"aboutproject__progress",children:"4 \u043d\u0435\u0434\u0435\u043b\u0438"}),Object(j.jsx)("p",{className:"aboutproject__time",children:"Back-end"}),Object(j.jsx)("p",{className:"aboutproject__time",children:"Front-end"})]})]})}),v=(n(42),function(){return Object(j.jsxs)("section",{className:"techs",id:"techs",children:[Object(j.jsx)("h2",{className:"techs__title",children:"\u0422\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438"}),Object(j.jsx)("p",{className:"techs__subtitle",children:"7 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0439"}),Object(j.jsx)("p",{className:"techs__text",children:"\u041d\u0430 \u043a\u0443\u0440\u0441\u0435 \u0432\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u043c\u044b \u043e\u0441\u0432\u043e\u0438\u043b\u0438 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043f\u0440\u0438\u043c\u0435\u043d\u0438\u043b\u0438 \u0432 \u0434\u0438\u043f\u043b\u043e\u043c\u043d\u043e\u043c \u043f\u0440\u043e\u0435\u043a\u0442\u0435."}),Object(j.jsxs)("div",{className:"techs__area",children:[Object(j.jsx)("div",{className:"techs__item",children:"HTML"}),Object(j.jsx)("div",{className:"techs__item",children:"CSS"}),Object(j.jsx)("div",{className:"techs__item",children:"JS"}),Object(j.jsx)("div",{className:"techs__item",children:"React"}),Object(j.jsx)("div",{className:"techs__item",children:"Git"}),Object(j.jsx)("div",{className:"techs__item",children:"Express.js"}),Object(j.jsx)("div",{className:"techs__item",children:"mongoDB"})]})]})}),O=(n(43),function(){return Object(j.jsxs)("section",{className:"aboutme",id:"student",children:[Object(j.jsx)("h2",{className:"aboutproject__title",children:"\u0421\u0442\u0443\u0434\u0435\u043d\u0442"}),Object(j.jsxs)("div",{className:"aboutme__area",children:[Object(j.jsxs)("div",{className:"aboutme__info",children:[Object(j.jsx)("p",{className:"aboutme__name",children:"\u0410\u043d\u0442\u043e\u043d"}),Object(j.jsx)("p",{className:"aboutme__short",children:"\u0424\u0440\u043e\u043d\u0442\u0435\u043d\u0434-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a, 31 \u0433\u043e\u0434"}),Object(j.jsx)("p",{className:"aboutme__full",children:'\u0416\u0438\u0432\u0443 \u0432 \u041f\u0438\u0442\u0435\u0440\u0435, \u0437\u0430\u043a\u043e\u043d\u0447\u0438\u043b \u043c\u0430\u0433\u0438\u0441\u0442\u0440\u0430\u0442\u0443\u0440\u0443 \u0421\u041f\u0411\u0413\u042d\u0423 \u043f\u043e \u043d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044e "\u0423\u0447\u0435\u0442, \u0430\u043d\u0430\u043b\u0438\u0437 \u0438 \u0430\u0443\u0434\u0438\u0442". \u0412 \u043f\u0440\u043e\u0448\u043b\u043e\u043c - \u0441\u0435\u0440\u0438\u0439\u043d\u044b\u0439 \u0431\u0443\u0445\u0433\u0430\u043b\u0442\u0435\u0440. \u0416\u0435\u043d\u0430\u0442, \u0435\u0441\u0442\u044c \u0441\u044b\u043d \u0438 \u043a\u043e\u0442.'}),Object(j.jsxs)("ul",{className:"aboutme__social",children:[Object(j.jsx)("li",{className:"aboutme__social-item",children:Object(j.jsx)("a",{href:"https://www.facebook.com/",className:"aboutme__social-link",children:"Facebook"})}),Object(j.jsx)("li",{className:"aboutme__social-item",children:Object(j.jsx)("a",{href:"https://github.com/antohakriukow",className:"aboutme__social-link",children:"Github"})})]})]}),Object(j.jsx)("div",{className:"aboutme__avatar"})]})]})}),f=(n(44),function(){return Object(j.jsxs)("section",{className:"portfolio",children:[Object(j.jsx)("h2",{className:"portfolio__title",children:"\u041f\u043e\u0440\u0442\u0444\u043e\u043b\u0438\u043e"}),Object(j.jsxs)("ul",{className:"portfolio_list",children:[Object(j.jsx)("li",{className:"portfolio_item",children:Object(j.jsx)("a",{href:"https://antohakriukow.github.io/how-to-learn/",className:"portfolio_link",target:"blank",children:"\u0421\u0442\u0430\u0442\u0438\u0447\u043d\u044b\u0439 \u0441\u0430\u0439\u0442"})}),Object(j.jsx)("li",{className:"portfolio_item",children:Object(j.jsx)("a",{href:"https://antohakriukow.github.io/russian-travel/",className:"portfolio_link",target:"blank",children:"\u0410\u0434\u0430\u043f\u0442\u0438\u0432\u043d\u044b\u0439 \u0441\u0430\u0439\u0442"})}),Object(j.jsx)("li",{className:"portfolio_item",children:Object(j.jsx)("a",{href:"https://antohakriukow.github.io/mesto/",className:"portfolio_link",target:"blank",children:"\u041e\u0434\u043d\u043e\u0441\u0442\u0440\u0430\u043d\u0438\u0447\u043d\u043e\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435"})})]})]})}),g=(n(45),function(){return Object(j.jsxs)("main",{children:[Object(j.jsx)(p,{}),Object(j.jsx)(_,{}),Object(j.jsx)(v,{}),Object(j.jsx)(O,{}),Object(j.jsx)(f,{})]})}),x=(n(46),function(e){var t=e.path,n="footer ".concat("/profile"===t||"/signin"===t||"/signup"===t?"footer_hidden":"");return Object(j.jsxs)("section",{className:n,children:[Object(j.jsx)("p",{className:"footer__text",children:"\u0423\u0447\u0435\u0431\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u042f\u043d\u0434\u0435\u043a\u0441.\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c \u0445 BeatFilm."}),Object(j.jsxs)("div",{className:"footer__flex-area",children:[Object(j.jsx)("p",{className:"footer_copyright",children:"\xa9 \u0410\u043d\u0442\u043e\u043d \u041a\u0440\u044e\u043a\u043e\u0432 | 2021"}),Object(j.jsxs)("ul",{className:"footer__links",children:[Object(j.jsx)("li",{className:"footer__link-item",children:Object(j.jsx)("a",{href:"https://praktikum.yandex.ru",className:"footer__link",children:"\u042f\u043d\u0434\u0435\u043a\u0441.\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c"})}),Object(j.jsx)("li",{className:"footer__link-item",children:Object(j.jsx)("a",{href:"https://github.com/antohakriukow?tab=repositories",className:"footer__link",children:"Github"})}),Object(j.jsx)("li",{className:"footer__link-item",children:Object(j.jsx)("a",{href:"https://www.facebook.com/",className:"footer__link",children:"Facebook"})})]})]})]})}),N=(n(47),function(e){var t=e.isMenuOpened,n=e.handleMenuSwitcher,a=t?"menu__overlay":"menu__overlay menu_hidden";return Object(j.jsx)("section",{className:a,children:Object(j.jsxs)("div",{className:"menu",children:[Object(j.jsx)("button",{className:"menu__close-btn",onClick:n}),Object(j.jsxs)("nav",{className:"menu__area",children:[Object(j.jsxs)("div",{className:"menu__top",children:[Object(j.jsx)(r.b,{to:"/",className:"menu__item",onClick:n,children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"}),Object(j.jsx)(r.b,{to:"/movies",className:"menu__item",onClick:n,children:"\u0424\u0438\u043b\u044c\u043c\u044b"}),Object(j.jsx)(r.b,{to:"/saved-movies",className:"menu__item",onClick:n,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043d\u044b\u0435 \u0444\u0438\u043b\u044c\u043c\u044b"})]}),Object(j.jsx)(r.b,{to:"/profile",className:"menu__item menu__item_oval",onClick:n,children:"\u0410\u043a\u043a\u0430\u0443\u043d\u0442"})]})]})})}),k=(n(48),function(e){var t=e.text,n=e.isOpen,a=e.onClose,s=e.onClick;return Object(j.jsx)("section",{className:"popup ".concat(n&&"popup_opened"),onClick:s,children:Object(j.jsxs)("div",{className:"popup__container",children:[Object(j.jsx)("button",{className:"popup__close-btn",type:"button",onClick:a}),Object(j.jsx)("p",{className:"popup__text",children:t})]})})}),S=n(13),M=n(10);function y(e){var t=Object(a.useState)(e),n=Object(l.a)(t,2),s=n[0],i=n[1],c=Object(a.useState)(!1),r=Object(l.a)(c,2),o=r[0],u=r[1],j=Object(a.useState)({}),d=Object(l.a)(j,2),m=d[0],h=d[1],b=Object(a.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};i(e),u(t),h(n)}),[i,u,h]);return{values:s,handleChange:function(e){var t=e.target.name,n=e.target.value;i(Object(M.a)(Object(M.a)({},s),{},Object(S.a)({},t,n))),u(e.target.closest("form").checkValidity()),h(Object(M.a)(Object(M.a)({},m),{},Object(S.a)({},t,e.target.validationMessage)))},errors:m,isOk:o,resetForm:b}}n(49);var C=function(){return Object(j.jsx)("div",{className:"preloader",children:Object(j.jsx)("div",{className:"preloader__container",children:Object(j.jsx)("span",{className:"preloader__round"})})})},w=(n(50),function(e){var t=e.onSignIn,n=e.isLoading,a=y({}),s=a.values,i=a.handleChange,c=a.errors,o=a.isOk;return Object(j.jsxs)("section",{className:"login",children:[n&&Object(j.jsx)(C,{}),Object(j.jsxs)("div",{className:"login__container",children:[Object(j.jsx)("a",{href:"/",className:"login__header",children:"."}),Object(j.jsx)("h2",{className:"login__greetings",children:"\u0420\u0430\u0434\u044b \u0432\u0438\u0434\u0435\u0442\u044c"}),Object(j.jsxs)("form",{className:"login__form",name:"login",method:"POST",onSubmit:function(e){o&&(e.preventDefault(),t(s.email,s.password))},children:[Object(j.jsx)("label",{className:"login__input-title",children:"Email"}),Object(j.jsx)("input",{onChange:i,className:"login__input ".concat(c&&c.email&&"login__input_type_error"),type:"email",name:"email",required:!0,id:"login-email",pattern:"[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+(?:[a-z]{2,})\\b"}),Object(j.jsx)("span",{className:"login__input-error",id:"email-input-error",children:c&&c.email&&c.email}),Object(j.jsx)("label",{className:"login__input-title",children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(j.jsx)("input",{onChange:i,className:"login__input",type:"password",name:"password",required:!0,id:"login-password"}),Object(j.jsx)("span",{className:"login__input-error",id:"password-input-error",children:c&&c.password&&c.password}),Object(j.jsx)("button",{className:"login__submit-btn",type:"submit",disabled:!o,children:"\u0412\u043e\u0439\u0442\u0438"})]}),Object(j.jsxs)("p",{className:"login__text",children:["\u0415\u0449\u0451 \u043d\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b?",Object(j.jsx)(r.b,{to:"/signup",className:"login__link",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})]})]})]})}),E=(n(51),function(e){var t=e.onSignUp,n=e.isLoading,a=y({}),s=a.values,i=a.handleChange,c=a.errors,o=a.isOk;return Object(j.jsxs)("section",{className:"register",children:[n&&Object(j.jsx)(C,{}),Object(j.jsxs)("div",{className:"register__container",children:[Object(j.jsx)("a",{href:"/",className:"register__header",children:"."}),Object(j.jsx)("h2",{className:"register__greetings",children:"\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c"}),Object(j.jsxs)("form",{className:"register__form",name:"login",onSubmit:function(e){o&&(e.preventDefault(),t(s.email,s.password,s.name))},children:[Object(j.jsx)("label",{className:"register__input-title",children:"\u0418\u043c\u044f"}),Object(j.jsx)("input",{onChange:i,className:"register__input ".concat(c&&c.name&&"register__input_type_error"),type:"text",name:"name",minLength:"2",maxLength:"40"}),Object(j.jsx)("span",{className:"register__input-error",id:"name-input-error",children:c&&c.name&&c.name}),Object(j.jsx)("label",{className:"register__input-title",children:"Email"}),Object(j.jsx)("input",{onChange:i,className:"register__input ".concat(c&&c.email&&"register__input_type_error"),type:"email",name:"email",required:!0,pattern:"[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+(?:[a-z]{2,})\\b"}),Object(j.jsx)("span",{className:"register__input-error",id:"email-input-error",children:c&&c.email&&c.email}),Object(j.jsx)("label",{className:"register__input-title",children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(j.jsx)("input",{onChange:i,className:"register__input",type:"password",name:"password",required:!0}),Object(j.jsx)("span",{className:"register__input-error",id:"password-input-error",children:c&&c.password&&c.password}),Object(j.jsx)("button",{className:"register__submit-btn",type:"submit",disabled:!o,children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]}),Object(j.jsxs)("p",{className:"register__text",children:["\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b?",Object(j.jsx)(r.b,{to:"/signin",className:"register__link",children:"\u0412\u043e\u0439\u0442\u0438"})]})]})]})}),F=s.a.createContext(),I=(n(52),function(e){var t=e.handleSignOut,n=e.handleUpdateUser,s=e.isLoading,i=y({}),c=i.values,o=i.handleChange,l=i.errors,u=i.isOk,d=Object(a.useContext)(F).currentUser;return Object(a.useEffect)((function(){c.name=d.name,c.email=d.email}),[d]),Object(j.jsx)("section",{className:"profile",children:Object(j.jsxs)("form",{className:"profile__form",onSubmit:function(e){u&&(e.preventDefault(),console.log("values: ",c.email,c.name),n(c.email,c.name))},children:[Object(j.jsxs)("h3",{className:"profile__greeting",children:["\u041f\u0440\u0438\u0432\u0435\u0442, ",d.name," !"]}),s&&Object(j.jsx)(C,{}),Object(j.jsxs)("div",{className:"profile__input-area",children:[Object(j.jsx)("p",{className:"profile__label",children:"\u0418\u043c\u044f"}),Object(j.jsxs)("div",{className:"profile__area",children:[Object(j.jsx)("input",{onChange:o,className:"profile__input ".concat(l&&l.name&&"profile__input_type_error"),placeholder:d.name,name:"name",minLength:"2",maxLength:"30",required:!0}),Object(j.jsx)("span",{className:"profile__input-error",id:"name-input-error",children:l&&l.name&&l.name})]}),Object(j.jsxs)("div",{className:"profile__area",children:[Object(j.jsx)("input",{onChange:o,className:"profile__input ".concat(l&&l.email&&"profile__input_type_error"),placeholder:d.email,type:"email",name:"email",required:!0,pattern:"[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+(?:[a-z]{2,})\\b"}),Object(j.jsx)("span",{className:"profile__input-error",id:"email-input-error",children:l&&l.email&&l.email})]}),Object(j.jsx)("p",{className:"profile__label",children:"E-mail"})]}),Object(j.jsx)("button",{type:"submit",className:"profile__submit-btn",disabled:!u,children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"}),Object(j.jsx)(r.b,{onClick:t,to:"/",className:"profile__exit-btn",children:"\u0412\u044b\u0439\u0442\u0438 \u0438\u0437 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430"})]})})}),z=(n(53),function(e){e.setShort,e.handleFilterMovies,e.values,e.short,e.searchInSaved,e.movie;var t=e.handleChange,n=e.shortFilterMovies;return Object(j.jsxs)("div",{className:"checkbox",children:[Object(j.jsx)("div",{className:"checkbox__container",children:Object(j.jsxs)("label",{className:"checkbox__label",children:[Object(j.jsx)("input",{type:"checkbox",className:"checkbox__input",onChange:t,onClick:function(e){var t=e.target.parentNode.parentNode.parentNode.parentNode.childNodes[0].childNodes[0].value;n(t,e.target.checked)}}),Object(j.jsx)("span",{className:"checkbox__decorator"})]})}),Object(j.jsx)("p",{className:"checkbox__title",children:"\u041a\u043e\u0440\u043e\u0442\u043a\u043e\u043c\u0435\u0442\u0440\u0430\u0436\u043a\u0438"})]})}),L=n.p+"static/media/search_icon.9d65490b.svg",T=(n(54),function(e){var t=e.handleFilterMovies,n=e.path,s=e.shortFilterMovies,i=Object(a.useState)(!1),c=Object(l.a)(i,2),r=(c[0],c[1],y({})),o=r.values,u=r.handleChange,d="/saved-movies"===n;return Object(j.jsxs)("section",{className:"searchform",children:[Object(j.jsx)("div",{className:"searchform__decorator",children:Object(j.jsx)("img",{className:"searchform__icon",src:L,alt:"search__icon"})}),Object(j.jsxs)("form",{className:"searchform__form",onSubmit:function(e){e.preventDefault(),console.log("Searchform submitted on string 17"),t(o.movie)},children:[Object(j.jsxs)("div",{className:"searchform__bar",children:[Object(j.jsx)("input",{className:"searchform__input",placeholder:"\u0424\u0438\u043b\u044c\u043c",name:"movie",onChange:u}),Object(j.jsx)("button",{className:"searchform__submit-btn"})]}),Object(j.jsx)("div",{className:"searchform__vertical-separator"}),Object(j.jsx)(z,{searchInSaved:d,handleChange:u,shortFilterMovies:s})]}),Object(j.jsx)("div",{className:"searchform__separator"})]})}),U=n.p+"static/media/like-btn.2b272c0c.svg",R=n.p+"static/media/like-btn_active.f9f18674.svg",J=n.p+"static/media/delete-btn.16c8c45c.svg",P=(n(55),function(e){var t=e.card,n=e.path,a=e.saveMovie,s=e.deleteMovie,i=e.userMovies.find((function(e){return e.nameRU===t.nameRU})),c="/saved-movies"===n&&"none",r="/movies"===n&&"none";return Object(j.jsxs)("li",{className:"card",children:[Object(j.jsx)("a",{href:t.trailer,target:"blank",children:Object(j.jsx)("img",{className:"card__img",src:t.image,alt:t.nameRU})}),Object(j.jsxs)("div",{className:"card__info",children:[Object(j.jsx)("p",{className:"card__title",children:t.nameRU}),Object(j.jsx)("img",{src:i?R:U,className:"card__action-btn",alt:"like-button",style:{display:c},onClick:function(){return i?s(t):a(t)}}),Object(j.jsx)("img",{src:J,className:"card__action-btn",alt:"delete-button",style:{display:r},onClick:function(){return s(t)}})]}),Object(j.jsx)("p",{className:"card__duration",children:t.duration<60?"".concat(t.duration,"\u043c"):"".concat(Math.trunc(t.duration/60),"\u0447 ").concat(t.duration-60*Math.trunc(t.duration/60),"\u043c")})]})}),A=(n(56),function(e){var t=e.spanText;return Object(j.jsx)("span",{className:"movies-span",children:t})}),B="https://api.nomoreparties.co",D="https://api.dip.students.nomoredomains.monster",q="https://static.baza.drom.ru/drom/1603795701124_bulletin",$=(n(57),function(e){var t=e.path,n=e.movies,s=e.userMovies,i=e.isSearchCompleted,c=e.saveMovie,r=e.deleteMovie,o=e.isLoading,u=e.moviesError,d=e.notFoundError,m=Object(a.useState)((function(){if("/saved-movies"===t)return 1e3;var e=window.innerWidth;return e<480?5:e<1041?8:e<=1279?12:e>1279?16:void 0})),h=Object(l.a)(m,2),b=h[0],p=h[1],_=Object(a.useState)((function(){var e=window.innerWidth;return e<480||e<1041?2:e<=1279?3:e>1279?4:void 0})),v=Object(l.a)(_,2),O=v[0],f=v[1],g=Object(a.useCallback)((function(){"/saved-movies"===t&&p(1e3);var e=window.innerWidth;e<480?(p(5),f(2)):e<1041?(p(8),f(2)):e<=1279?(p(12),f(3)):e>1279&&(p(16),f(4))}),[t]);var x=n.slice(0,b);Object(a.useEffect)((function(){window.addEventListener("resize",g)}),[g]);var N="/saved-movies"===t&&"none",k=(N||x.length===n.length)&&"none";return Object(j.jsxs)("section",{className:"moviescardlist",children:[o&&Object(j.jsx)(C,{}),N&&function(){if(localStorage.getItem("savedMovies")){var e=JSON.parse(localStorage.getItem("savedMovies")).length;return 0===e||null===e}}()&&Object(j.jsx)(A,{spanText:"\u0423 \u0412\u0430\u0441 \u043d\u0435\u0442 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043d\u044b\u0445 \u0444\u0438\u043b\u044c\u043c\u043e\u0432!"}),u&&Object(j.jsx)(A,{spanText:"\u0412\u043e \u0432\u0440\u0435\u043c\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430. \u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e, \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0430 \u0441 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435\u043c \u0438\u043b\u0438 \u0441\u0435\u0440\u0432\u0435\u0440 \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d. \u041f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435 \u043d\u0435\u043c\u043d\u043e\u0433\u043e \u0438 \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0451 \u0440\u0430\u0437"}),d&&i&&Object(j.jsx)(A,{spanText:"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e."}),Object(j.jsx)("ul",{className:"moviescardlist__area",children:i&&x.map((function(e){return Object(j.jsx)(P,{card:e,path:t,saveMovie:c,deleteMovie:r,userMovies:s},e.movieId)}))}),Object(j.jsx)("button",{className:"moviescardlist__show-more-btn",style:{display:k},onClick:function(){p((function(e){return e+O}))},children:"\u0415\u0449\u0451"})]})}),G=(n(58),function(e){var t=e.renderPath,n=e.movies,a=e.userMovies,s=e.handleFilterMovies,i=e.isSearchCompleted,c=e.saveMovie,r=e.deleteMovie,o=e.isLoading,l=e.moviesError,u=e.notFoundError,d=e.shortFilterMovies;return Object(j.jsxs)("section",{className:"movies",children:[Object(j.jsx)(T,{handleFilterMovies:s,path:t,shortFilterMovies:d}),Object(j.jsx)($,{path:t,movies:n,userMovies:a,isSearchCompleted:i,saveMovie:c,deleteMovie:r,isLoading:o,moviesError:l,notFoundError:u})]})}),W=(n(59),function(e){var t=e.renderPath,n=e.movies,a=e.userMovies,s=e.handleFilterMovies,i=e.isSearchCompleted,c=e.saveMovie,r=e.deleteMovie,o=e.moviesError,l=e.notFoundError,u=e.shortFilterMovies;return Object(j.jsxs)("section",{className:"savedmovies",children:[Object(j.jsx)(T,{handleFilterMovies:s,path:t,shortFilterMovies:u}),Object(j.jsx)($,{path:t,movies:n,userMovies:a,isSearchCompleted:i,saveMovie:c,deleteMovie:r,moviesError:o,notFoundError:l})]})}),H=(n(60),function(){return Object(j.jsx)("section",{className:"notfound",children:Object(j.jsxs)("div",{className:"notfound__container",children:[Object(j.jsx)("h2",{className:"notfound__title",children:"404"}),Object(j.jsx)("p",{className:"notfound__text",children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430"}),Object(j.jsx)(r.b,{to:"/",className:"notfound__link",children:"\u041d\u0430\u0437\u0430\u0434"})]})})}),V=n(25),K=function(e){var t=e.component,n=Object(V.a)(e,["component"]);return Object(j.jsx)(u.b,{children:function(){return n.isAutenticated?Object(j.jsx)(t,Object(M.a)({},n)):Object(j.jsx)(u.a,{to:"./signin"})}})},Q=n(15),X=n(16),Y=new(function(){function e(t){var n=t.url;Object(Q.a)(this,e),this.url=n}return Object(X.a)(e,[{key:"getCheckedResponse",value:function(e){return e.ok?e.json():Promise.reject("Sorry, something went wrong. Error: ".concat(e.status))}},{key:"getMovies",value:function(){return fetch("".concat(this.url,"/beatfilm-movies"),{headers:{Accept:"application/json","Content-Type":"application/json"}}).then(this.getCheckedResponse)}}]),e}())({url:B}),Z=new(function(){function e(t){var n=t.url;Object(Q.a)(this,e),this.url=n}return Object(X.a)(e,[{key:"getCheckedResponse",value:function(e){return e.ok?e.json():Promise.reject("Sorry, something went wrong. Error: ".concat(e.status))}},{key:"getSavedMovies",value:function(e){var t=this;return fetch("".concat(this.url,"/movies"),{headers:{authorization:"Bearer ".concat(e),"Content-Type":"application/json"}}).then((function(e){return t.getCheckedResponse(e)}))}},{key:"saveMovie",value:function(e,t){var n=this;return fetch("".concat(this.url,"/movies"),{headers:{authorization:"Bearer ".concat(e),"Content-Type":"application/json"},method:"POST",body:JSON.stringify(t)}).then((function(e){return n.getCheckedResponse(e)}))}},{key:"deleteMovie",value:function(e,t){var n=this;return fetch("".concat(this.url,"/movies/").concat(t),{headers:{authorization:"Bearer ".concat(e),"Content-Type":"application/json"},method:"DELETE"}).then((function(e){return n.getCheckedResponse(e)}))}},{key:"getUserData",value:function(e){var t=this;return fetch("".concat(this.url,"/users/me"),{headers:{authorization:"Bearer ".concat(e),"Content-Type":"application/json"}}).then((function(e){return t.getCheckedResponse(e)}))}},{key:"updateUserData",value:function(e,t,n){var a=this;return fetch("".concat(this.url,"/users/me"),{headers:{authorization:"Bearer ".concat(e),"Content-Type":"application/json"},method:"PATCH",body:JSON.stringify({email:t,name:n})}).then((function(e){return a.getCheckedResponse(e)}))}},{key:"switchMovieStatus",value:function(e,t,n,a){return a?this.deleteMovie(e,n):this.saveMovie(e,t)}}]),e}())({url:D}),ee=function(e,t){return fetch("".concat(D,"/signin"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:t,email:e})}).then((function(e){return e.json()})).then((function(e){if(e.token)return localStorage.setItem("jwt",e.token),e}))};n(61);var te=function(){var e=Object(a.useState)(!1),t=Object(l.a)(e,2),n=t[0],s=t[1],i=function(){return s(!n)},c=Object(u.h)(),r=Object(u.g)(),d=Object(a.useState)(!1),m=Object(l.a)(d,2),b=m[0],p=m[1],_=Object(a.useState)(!1),v=Object(l.a)(_,2),O=v[0],f=v[1],S=Object(a.useState)([]),M=Object(l.a)(S,2),y=M[0],C=M[1],z=Object(a.useState)({}),L=Object(l.a)(z,2),T=L[0],U=L[1],R=Object(a.useState)([]),J=Object(l.a)(R,2),P=J[0],A=J[1],$=Object(a.useState)(!1),V=Object(l.a)($,2),Q=V[0],X=V[1],te=Object(a.useState)(!1),ne=Object(l.a)(te,2),ae=ne[0],se=ne[1],ie=Object(a.useState)(!1),ce=Object(l.a)(ie,2),re=ce[0],oe=ce[1],le=Object(a.useState)(""),ue=Object(l.a)(le,2),je=ue[0],de=ue[1],me=Object(a.useState)(!1),he=Object(l.a)(me,2),be=he[0],pe=he[1];Object(a.useEffect)((function(){var e=localStorage.getItem("jwt");Q&&(p(!0),Promise.all([Z.getUserData(e),Z.getSavedMovies(e)]).then((function(e){var t=Object(l.a)(e,2),n=t[0],a=t[1];localStorage.setItem("savedMovies",JSON.stringify(a)),U(n),A(a),p(!1)})))}),[Q,T.id,c]);var _e=Object(a.useCallback)((function(){if(localStorage.getItem("jwt")){var e=localStorage.getItem("jwt");(t=e,fetch("".concat(D,"/users/me"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()})).then((function(e){return e}))).then((function(e){e&&(U(e),X(!0),r.push(c))})).catch((function(e){Ne(e.message),console.log(e),X(!1),r.push("/"),localStorage.clear()}))}var t}),[r]);Object(a.useEffect)((function(){_e()}),[_e]),Object(a.useEffect)((function(){"/saved-movies"===c.pathname?C(P):!f&&C([])}),[c.pathname,P]),Object(a.useEffect)((function(){"/movies"===c.pathname&&C([])}),[c.pathname,r]);var ve=function(){return p(!0),new Promise((function(e,t){Y.getMovies().then((function(e){return e.map((function(e){return{country:(t=e).country,director:t.director,duration:t.duration,year:t.year,description:t.description,image:t.image?"".concat(B).concat(t.image.url):q,trailer:t.trailerLink&&t.trailerLink.includes("http")?t.trailerLink:"https://youtube.com",thumbnail:"".concat(B).concat(t.image&&t.image.formats?t.image.formats.thumbnail.url:q),movieId:t.id,nameRU:t.nameRU?t.nameRU:"\u0414\u0430\u043d\u043d\u044b\u0435 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044e\u0442",nameEN:t.nameEN?t.nameEN:"\u0414\u0430\u043d\u043d\u044b\u0435 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044e\u0442"};var t}))})).then((function(e){return localStorage.setItem("allMovies",JSON.stringify(e))})).catch((function(e){se(!0),Ne(e.message),console.log("handleGetMovies Error: ",e)})).finally((function(){return p(!1)}))}))},Oe=function(e){var t="/saved-movies"===c.pathname;if(p(!0),f(!1),se(!1),oe(!1),t&&0===JSON.parse(localStorage.getItem("savedMovies")).length)return p(!1),void f(!0);if(t||void 0!==e){if(t&&(void 0===e||""===e))return C(P),f(!0),void p(!1);var n=t?P:JSON.parse(localStorage.getItem("allMovies"));if(t||null!==n||ve(),t&&null===n)p(!1);else{var a=function(e,t){return e.length<1?[]:t.filter((function(t){return t.nameRU.toLowerCase().includes(e.toLowerCase())}))}(e,n);0===a.length&&oe(!0),C(a),f(!0),p(!1)}}else p(!1)},fe=function(e,t){var n="/saved-movies"===c.pathname;if(O&&t){se(!1),oe(!1);var a=n?P:y,s=t?a.filter((function(e){return e.duration<=40})):a;if(0===s.length){if(C([]),f(!0),n)return;return oe(!0)}C(s),f(!0)}O&&!t&&Oe(e)},ge=function(e){var t=localStorage.getItem("jwt"),n=JSON.parse(localStorage.getItem("savedMovies"));n.some((function(t){return t.movieId===e.movieId}))||(p(!0),Z.saveMovie(t,e).then((function(e){var t=[e].concat(Object(o.a)(n));localStorage.setItem("savedMovies",JSON.stringify(t)),A(t)})).catch((function(e){return console.log("saveMovie error: ",e)})).finally((function(){return p(!1)})))},xe=function(e){p(!0);var t=localStorage.getItem("jwt"),n=JSON.parse(localStorage.getItem("savedMovies")),a=n.find((function(t){return t.movieId===e.movieId}))._id;Z.deleteMovie(t,a).then((function(e){var t=n.filter((function(t){return t.movieId!==e.movieId}));localStorage.setItem("savedMovies",JSON.stringify(t)),A(t)})).catch((function(e){return console.log("deleteMovie error: ",e)})).finally((function(){return p(!1)}))},Ne=function(e){de(e),pe(!0)},ke=function(){pe(!1)};return Object(j.jsxs)(F.Provider,{value:{currentUser:T},children:[Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)(h,{path:c.pathname,handleMenuSwitcher:i,isAutenticated:Q}),Object(j.jsxs)(u.d,{children:[Object(j.jsx)(u.b,{exact:!0,path:"/",children:Object(j.jsx)(g,{})}),Object(j.jsx)(K,{component:G,path:"/movies",isAutenticated:Q,renderPath:c.pathname,movies:y,userMovies:P,handleFilterMovies:Oe,isSearchCompleted:O,saveMovie:ge,deleteMovie:xe,isLoading:b,moviesError:ae,notFoundError:re,shortFilterMovies:fe}),Object(j.jsx)(K,{component:W,path:"/saved-movies",isAutenticated:Q,renderPath:c.pathname,movies:y,userMovies:P,handleFilterMovies:Oe,isSearchCompleted:O,saveMovie:ge,deleteMovie:xe,moviesError:ae,notFoundError:re,shortFilterMovies:fe}),Object(j.jsx)(u.b,{path:"/signin",children:Object(j.jsx)(w,{onSignIn:function(e,t){p(!0),ee(e,t).then((function(e){e.token?(X(!0),ve(),r.push("/movies"),Ne("\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c \u043e\u0431\u0440\u0430\u0442\u043d\u043e!")):Ne("\u0414\u043e\u0441\u0442\u0443\u043f \u0437\u0430\u043f\u0440\u0435\u0449\u0435\u043d")})).catch((function(e){Ne(e.message),console.log("handleSignIn error: ",e)})).finally((function(){return p(!1)}))},isLoading:b})}),Object(j.jsx)(u.b,{path:"/signup",children:Object(j.jsx)(E,{onSignUp:function(e,t,n){p(!0),function(e,t,n){return fetch("".concat(D,"/signup"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t,name:n})}).then((function(e){return e.json()})).then((function(e){return e}))}(e,t,n).then((function(e){e.data&&ee(e.data.email,t).then((function(e){e.token&&(X(!0),ve(),r.push("/movies"),Ne("\u0412\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043b\u0438\u0441\u044c!"))}))})).catch((function(e){Ne(e.message),console.log("handleSignUp error: ",e)})).finally((function(){return p(!1)}))},isLoading:b})}),Object(j.jsx)(K,{component:I,path:"/profile",isAutenticated:Q,handleSignOut:function(){p(!0),X(!1),U({}),localStorage.clear(),C([]),A([]),p(!1),r.push("/")},handleUpdateUser:function(e,t){p(!0);var n=localStorage.getItem("jwt");Z.updateUserData(n,e,t).then((function(e){U(e),Ne("\u0414\u0430\u043d\u043d\u044b\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u044b!")})).catch((function(e){return console.log("handleUpdateUser error: ",e)})).finally((function(){return p(!1)}))},isLoading:b}),Object(j.jsx)(u.b,{path:"*",children:Object(j.jsx)(H,{})})]}),Object(j.jsx)(x,{path:c.pathname})]}),Object(j.jsx)(N,{isMenuOpened:n,handleMenuSwitcher:i}),Object(j.jsx)(k,{text:je,isOpen:be,onClose:ke,onClick:function(e){e.target===e.currentTarget&&ke()}})]})},ne=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,63)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),a(e),s(e),i(e),c(e)}))};c.a.render(Object(j.jsx)(s.a.StrictMode,{children:Object(j.jsx)(r.a,{basename:"",children:Object(j.jsx)(te,{})})}),document.getElementById("root")),ne()}]),[[62,1,2]]]);
//# sourceMappingURL=main.cfb26049.chunk.js.map