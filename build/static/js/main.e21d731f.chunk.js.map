{"version":3,"sources":["components/NavigationLogin/NavigationLogin.js","components/NavigationLogout/NavigationLogout.js","components/Header/Header.js","images/promo_back_img.png","components/Promo/Promo.js","components/AboutProject/AboutProject.js","components/Techs/Techs.js","components/AboutMe/AboutMe.js","components/Portfolio/Portfolio.js","components/Main/Main.js","components/Footer/Footer.js","components/Menu/Menu.js","components/Popup/Popup.js","hooks/useForm.hook.js","components/Preloader/Preloader.js","components/Login/Login.js","components/Register/Register.js","contexts/CurrentUserContext.js","components/Profile/Profile.js","components/Checkbox/Checkbox.js","images/search_icon.svg","components/SearchForm/SearchForm.js","images/like-btn.svg","images/like-btn_active.svg","images/delete-btn.svg","components/MoviesCard/MoviesCard.js","components/MoviesCardListSpan/MoviesCardListSpan.js","utils/config.js","utils/utils.js","components/MoviesCardList/MoviesCardList.js","components/Movies/Movies.js","components/SavedMovies/SavedMovies.js","components/NotFound/NotFound.js","components/ProtectedRoute/ProtectedRoute.js","utils/MoviesApi.js","utils/MainApi.js","utils/AuthApi.js","components/App/App.js","reportWebVitals.js","index.js"],"names":["NavigationLogin","path","handleMenuSwitcher","filmsClassSwitcher","savedfilmsClassSwitcher","accountClassSwitcher","className","onClick","to","NavigationLogout","Header","isAutenticated","classSwitcher","href","Promo","src","promoImg","alt","AboutProject","id","Techs","AboutMe","Portfolio","target","Main","Footer","Menu","isMenuOpened","Popup","text","isOpen","onClose","type","useForm","initialValues","useState","values","setValues","isOk","setIsOk","errors","setErrors","resetForm","useCallback","resetedValues","resetedIsOk","resetedErrors","handleChange","evt","name","value","closest","checkValidity","validationMessage","Preloader","Login","onSignIn","isLoading","method","onSubmit","preventDefault","email","password","onChange","required","pattern","disabled","Register","onSignUp","minLength","maxLength","CurrentUserContext","React","createContext","Profile","handleSignOut","handleUpdateUser","currentUser","useContext","useEffect","e","console","log","placeholder","Checkbox","setShort","handleFilterMovies","short","searchInSaved","movie","shortFilterMovies","query","parentNode","childNodes","checked","SearchForm","searchIcon","MoviesCard","card","saveMovie","deleteMovie","isSaved","userMovies","find","m","nameRU","handleSaveBtnVisibility","handleDeleteBtnVisibility","trailer","image","likeBtnActive","likeBtn","style","display","deleteBtn","duration","Math","trunc","MoviesCardListSpan","spanText","moviesApiUrl","apiUrl","defaultMovieImg","filterMovies","movies","length","filter","toLowerCase","includes","MoviesCardList","isSearchCompleted","moviesError","notFoundError","size","window","innerWidth","initialMoviesCount","setInitialMoviesCount","increaseMoviesCount","setIncreaseMoviesCount","handleResize","initialMoviesSetter","JSON","parse","localStorage","getItem","visibleMovies","slice","memoisedFilms","arrSwitcher","addEventListener","savedMoviesTrigger","arrayLength","noSavedMovies","map","movieId","prev","Movies","renderPath","SavedMovies","ы","NotFound","ProtectedRoute","Component","component","props","moviesApi","url","this","res","ok","json","Promise","reject","status","fetch","headers","Accept","then","getCheckedResponse","mainApi","jwt","authorization","body","stringify","singIn","data","token","setItem","App","setIsMenuOpened","location","useLocation","history","useHistory","setIsLoading","setIsSearchCompleted","setMovies","setCurrentUser","setUserMovies","setIsAutenticated","setMoviesError","setNotFoundError","popupText","setPopupText","popupIsOpen","setPopupIsOpen","all","getUserData","getSavedMovies","userData","handleCheckToken","Authorization","user","push","catch","err","showPopup","message","clear","pathname","handleGetMovies","resolve","getMovies","country","importedMovie","director","year","description","trailerLink","thumbnail","formats","nameEN","adoptedMovies","finally","undefined","arr","filtredMovies","savedMovies","some","mov","newSavedMovies","deletingMovieId","newMovies","hidePopup","Provider","exact","signUp","updateUserData","currentTarget","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","basename","process","document","getElementById"],"mappings":"mtBAmCeA,EAhCS,SAAC,GAAkC,IAAhCC,EAA+B,EAA/BA,KAAMC,EAAyB,EAAzBA,mBAMzBC,EAAkB,gCACb,MAATF,EACE,8BACA,IAEEG,EAAuB,2DAClB,MAATH,EACE,8BACA,IAEEI,EAAoB,2DACf,MAATJ,EACE,gEACA,IAGJ,OACE,0BAASK,UAAU,mBAAnB,UACE,wBAAQA,UAAU,yBAAyBC,QAASL,IACpD,cAAC,IAAD,CAASM,GAAG,UAAUF,UAAWH,EAAjC,kDACA,cAAC,IAAD,CAASK,GAAG,gBAAgBF,UAAWF,EAAvC,qHACA,cAAC,IAAD,CAASI,GAAG,WAAWF,UAAWD,EAAlC,4DClBSI,G,MATU,WACvB,OACE,0BAASH,UAAU,oBAAnB,UACE,cAAC,IAAD,CAASE,GAAG,UAAUF,UAAU,yBAAhC,gFACA,cAAC,IAAD,CAASE,GAAG,UAAUF,UAAU,uDAAhC,iDCwBSI,G,MAxBA,SAAC,GAAkD,IAAhDT,EAA+C,EAA/CA,KAAMC,EAAyC,EAAzCA,mBAAoBS,EAAqB,EAArBA,eACpCC,EAAa,iBACP,YAATX,GAA+B,YAATA,EACrB,gBACA,IAIJ,OACE,0BAASK,UAAWM,EAApB,UACE,mBAAGC,KAAK,IAAIP,UAAU,eAAtB,eACA,qBAAKA,UAAU,oBAAf,SACGK,EACG,cAAC,EAAD,CACEV,KAAMA,EACNC,mBAAoBA,IAEtB,cAAC,EAAD,WCxBG,G,MAAA,IAA0B,4CCc1BY,EAXD,WACZ,OACE,yBAASR,UAAU,QAAnB,SACE,sBAAKA,UAAU,mBAAf,UACE,oBAAIA,UAAU,eAAd,4RACA,qBAAKA,UAAU,aAAaS,IAAKC,EAAUC,IAAI,oBCkBxCC,G,MAxBM,WACnB,OACE,0BAASZ,UAAU,eAAea,GAAG,UAArC,UACE,oBAAIb,UAAU,sBAAd,+DACA,sBAAKA,UAAU,2BAAf,UACA,sBAAKA,UAAU,qBAAf,UACE,mBAAGA,UAAU,2BAAb,2LACA,mBAAGA,UAAU,0BAAb,6hBAEF,sBAAKA,UAAU,qBAAf,UACE,mBAAGA,UAAU,2BAAb,kMACA,mBAAGA,UAAU,0BAAb,6hBAGF,sBAAKA,UAAU,+BAAf,UACE,qBAAKA,UAAU,sDAAf,oDACA,qBAAKA,UAAU,yBAAf,oDACA,mBAAGA,UAAU,qBAAb,sBACA,mBAAGA,UAAU,qBAAb,+BCCOc,G,MAnBD,WACZ,OACE,0BAASd,UAAU,QAAQa,GAAG,QAA9B,UACE,oBAAIb,UAAU,eAAd,0EACA,mBAAGA,UAAU,kBAAb,4EACA,mBAAGA,UAAU,cAAb,2cACA,sBAAKA,UAAU,cAAf,UACE,qBAAKA,UAAU,cAAf,kBACA,qBAAKA,UAAU,cAAf,iBACA,qBAAKA,UAAU,cAAf,gBACA,qBAAKA,UAAU,cAAf,mBACA,qBAAKA,UAAU,cAAf,iBACA,qBAAKA,UAAU,cAAf,wBACA,qBAAKA,UAAU,cAAf,6BCWOe,G,MAxBC,WACd,OACE,0BAASf,UAAU,UAAUa,GAAG,UAAhC,UACE,oBAAIb,UAAU,sBAAd,wDACA,sBAAKA,UAAU,gBAAf,UACE,sBAAKA,UAAU,gBAAf,UACE,mBAAGA,UAAU,gBAAb,4CACA,mBAAGA,UAAU,iBAAb,wJACA,mBAAGA,UAAU,gBAAb,8qBACA,qBAAIA,UAAU,kBAAd,UACE,oBAAIA,UAAU,uBAAd,SACE,mBAAGO,KAAK,4BAA4BP,UAAU,uBAA9C,wBAEF,oBAAIA,UAAU,uBAAd,SACE,mBAAGO,KAAK,mCAAmCP,UAAU,uBAArD,4BAIN,qBAAKA,UAAU,4BCCRgB,G,MAnBG,WAChB,OACE,0BAAShB,UAAU,YAAnB,UACE,oBAAIA,UAAU,mBAAd,oEACA,qBAAIA,UAAU,iBAAd,UACE,oBAAIA,UAAU,iBAAd,SACE,mBAAGO,KAAK,gDAAgDP,UAAU,iBAAiBiB,OAAO,QAA1F,+FAEF,oBAAIjB,UAAU,iBAAd,SACE,mBAAGO,KAAK,kDAAkDP,UAAU,iBAAiBiB,OAAO,QAA5F,qGAEF,oBAAIjB,UAAU,iBAAd,SACE,mBAAGO,KAAK,yCAAyCP,UAAU,iBAAiBiB,OAAO,QAAnF,yKCKKC,G,MAZF,WACX,OACE,iCACI,cAAC,EAAD,IACA,cAAC,EAAD,IACA,cAAC,EAAD,IACA,cAAC,EAAD,IACA,cAAC,EAAD,SCgBOC,G,MA5BA,SAAC,GAAc,IAAZxB,EAAW,EAAXA,KACVW,EAAa,iBACP,aAATX,GAAgC,YAATA,GAA+B,YAATA,EAC5C,gBACA,IAGJ,OACE,0BAASK,UAAWM,EAApB,UACE,mBAAGN,UAAU,eAAb,0MACA,sBAAKA,UAAU,oBAAf,UACE,mBAAGA,UAAU,mBAAb,6FACA,qBAAIA,UAAU,gBAAd,UACE,oBAAIA,UAAU,oBAAd,SACE,mBAAGO,KAAK,8BAA8BP,UAAU,eAAhD,2GAEF,oBAAIA,UAAU,oBAAd,SACE,mBAAGO,KAAK,oDAAoDP,UAAU,eAAtE,sBAEF,oBAAIA,UAAU,oBAAd,SACE,mBAAGO,KAAK,4BAA4BP,UAAU,eAA9C,mCCIGoB,G,MAtBF,SAAC,GAA0C,IAAxCC,EAAuC,EAAvCA,aAAczB,EAAyB,EAAzBA,mBACxBU,EAAgBe,EAClB,gBACA,4BAEF,OACE,yBAASrB,UAAWM,EAApB,SACE,sBAAKN,UAAU,OAAf,UACA,wBAAQA,UAAU,kBAAiBC,QAASL,IAC5C,sBAAKI,UAAU,aAAf,UACE,sBAAKA,UAAU,YAAf,UACE,cAAC,IAAD,CAASE,GAAG,IAAIF,UAAU,aAAaC,QAASL,EAAhD,wDACA,cAAC,IAAD,CAASM,GAAG,UAAUF,UAAU,aAAaC,QAASL,EAAtD,kDACA,cAAC,IAAD,CAASM,GAAG,gBAAgBF,UAAU,aAAaC,QAASL,EAA5D,wHAEF,cAAC,IAAD,CAASM,GAAG,WAAWF,UAAU,6BAA6BC,QAASL,EAAvE,kECSO0B,G,MA1BD,SAAC,GAKN,IAJPC,EAIM,EAJNA,KACAC,EAGM,EAHNA,OACAC,EAEM,EAFNA,QACAxB,EACM,EADNA,QAGA,OACE,yBACED,UAAS,gBAAWwB,GAAU,gBAC9BvB,QAASA,EAFX,SAIE,sBAAKD,UAAU,mBAAf,UACE,wBACEA,UAAU,mBACV0B,KAAK,SACLzB,QAASwB,IAEX,mBAAGzB,UAAU,cAAb,SACGuB,W,gBCnBJ,SAASI,EAAQC,GACtB,MAA4BC,mBAASD,GAArC,mBAAOE,EAAP,KAAeC,EAAf,KACA,EAAwBF,oBAAS,GAAjC,mBAAOG,EAAP,KAAaC,EAAb,KACA,EAA4BJ,mBAAS,IAArC,mBAAOK,EAAP,KAAeC,EAAf,KAUMC,EAAYC,uBAChB,WAAkE,IAAjEC,EAAgE,uDAAhD,GAAIC,EAA4C,wDAAvBC,EAAuB,uDAAP,GACxDT,EAAUO,GACVL,EAAQM,GACRJ,EAAUK,KAEZ,CAACT,EAAWE,EAASE,IAGvB,MAAO,CAAEL,SAAQW,aAjBI,SAACC,GACpB,IAAMC,EAAOD,EAAIzB,OAAO0B,KAClBC,EAAQF,EAAIzB,OAAO2B,MACzBb,EAAU,2BAAID,GAAL,kBAAca,EAAOC,KAC9BX,EAAQS,EAAIzB,OAAO4B,QAAQ,QAAQC,iBACnCX,EAAU,2BAAID,GAAL,kBAAcS,EAAOD,EAAIzB,OAAO8B,sBAYZb,SAAQF,OAAMI,a,UCXhCY,EAVG,WAChB,OACE,qBAAKhD,UAAU,YAAf,SACE,qBAAKA,UAAU,uBAAf,SACE,sBAAMA,UAAU,0BC+DTiD,G,MAhED,SAAC,GAA6B,IAA3BC,EAA0B,EAA1BA,SAAUC,EAAgB,EAAhBA,UACzB,EAA+CxB,EAAQ,IAA/CG,EAAR,EAAQA,OAAQW,EAAhB,EAAgBA,aAAcP,EAA9B,EAA8BA,OAAQF,EAAtC,EAAsCA,KAStC,OACE,0BAAShC,UAAU,QAAnB,UACGmD,GAAa,cAAC,EAAD,IACd,sBAAKnD,UAAU,mBAAf,UACE,mBAAGO,KAAK,IAAIP,UAAU,gBAAtB,eACA,oBAAIA,UAAU,mBAAd,2EACA,uBAAMA,UAAU,cAAc2C,KAAK,QAAQS,OAAO,OAAOC,SAb9C,SAACX,GACZV,IACFU,EAAIY,iBACJJ,EAASpB,EAAOyB,MAAOzB,EAAO0B,YAU5B,UACE,uBAAOxD,UAAU,qBAAjB,mBACA,uBACEyD,SAAUhB,EACVzC,UAAS,uBAAkBkC,GAAUA,EAAM,OAAa,2BACxDR,KAAK,QACLiB,KAAK,QACLe,UAAQ,EACR7C,GAAG,cACH8C,QAAQ,6HAEV,sBAAM3D,UAAU,qBAAqBa,GAAG,oBAAxC,SACGqB,GAAUA,EAAM,OAAaA,EAAM,QAEtC,uBAAOlC,UAAU,qBAAjB,kDACA,uBACEyD,SAAUhB,EACVzC,UAAU,eACV0B,KAAK,WACLiB,KAAK,WACLe,UAAQ,EACR7C,GAAG,mBAEL,sBAAMb,UAAU,qBAAqBa,GAAG,uBAAxC,SACGqB,GAAUA,EAAM,UAAgBA,EAAM,WAEzC,wBACElC,UAAS,oBACT0B,KAAK,SACLkC,UAAW5B,EAHb,+CAQF,oBAAGhC,UAAU,cAAb,8IAEE,cAAC,IAAD,CACEE,GAAG,UACHF,UAAU,cAFZ,2FCsBK6D,G,MA1EE,SAAC,GAA6B,IAA3BC,EAA0B,EAA1BA,SAAUX,EAAgB,EAAhBA,UAC5B,EAA+CxB,EAAQ,IAA/CG,EAAR,EAAQA,OAAQW,EAAhB,EAAgBA,aAAcP,EAA9B,EAA8BA,OAAQF,EAAtC,EAAsCA,KAStC,OACE,0BAAShC,UAAU,WAAnB,UACGmD,GAAa,cAAC,EAAD,IACd,sBAAKnD,UAAU,sBAAf,UACE,mBAAGO,KAAK,IAAIP,UAAU,mBAAtB,eACA,oBAAIA,UAAU,sBAAd,yGACA,uBAAMA,UAAU,iBAAiB2C,KAAK,QAAQU,SAbnC,SAACX,GACZV,IACFU,EAAIY,iBACJQ,EAAShC,EAAOyB,MAAOzB,EAAO0B,SAAU1B,EAAOa,QAU7C,UACE,uBAAO3C,UAAU,wBAAjB,gCACA,uBACEyD,SAAUhB,EACVzC,UAAS,0BAAqBkC,GAAUA,EAAM,MAAY,8BAC1DR,KAAK,OACLiB,KAAK,OACLoB,UAAU,IACVC,UAAU,OAEZ,sBAAMhE,UAAU,wBAAwBa,GAAG,mBAA3C,SACGqB,GAAUA,EAAM,MAAYA,EAAM,OAErC,uBAAOlC,UAAU,wBAAjB,mBACA,uBACEyD,SAAUhB,EACVzC,UAAS,0BAAqBkC,GAAUA,EAAM,OAAa,8BAC3DR,KAAK,QACLiB,KAAK,QACLe,UAAQ,EACRC,QAAQ,6HAEV,sBAAM3D,UAAU,wBAAwBa,GAAG,oBAA3C,SACGqB,GAAUA,EAAM,OAAaA,EAAM,QAEtC,uBAAOlC,UAAU,wBAAjB,kDACA,uBACEyD,SAAUhB,EACVzC,UAAU,kBACV0B,KAAK,WACLiB,KAAK,WACLe,UAAQ,IAEV,sBAAM1D,UAAU,wBAAwBa,GAAG,uBAA3C,SACGqB,GAAUA,EAAM,UAAgBA,EAAM,WAEzC,wBACAlC,UAAS,uBACT0B,KAAK,SACLkC,UAAW5B,EAHX,6HAQF,oBAAGhC,UAAU,iBAAb,iIAEE,cAAC,IAAD,CACEE,GAAG,UACHF,UAAU,iBAFZ,uDClEGiE,EAAqBC,IAAMC,gBCmEzBC,G,MA7DC,SAAC,GAAoD,IAAlDC,EAAiD,EAAjDA,cAAeC,EAAkC,EAAlCA,iBAAkBnB,EAAgB,EAAhBA,UAClD,EAA+CxB,EAAQ,IAA/CG,EAAR,EAAQA,OAAQW,EAAhB,EAAgBA,aAAcP,EAA9B,EAA8BA,OAAQF,EAAtC,EAAsCA,KAC9BuC,EAAgBC,qBAAWP,GAA3BM,YAeR,OALAE,qBAAU,WACR3C,EAAOa,KAAO4B,EAAY5B,KAC1Bb,EAAOyB,MAAQgB,EAAYhB,QAC1B,CAACgB,IAGF,yBAASvE,UAAU,UAAnB,SACE,uBAAMA,UAAU,gBAAgBqD,SAfnB,SAACqB,GACZ1C,IACF0C,EAAEpB,iBACFqB,QAAQC,IAAI,WAAY9C,EAAOyB,MAAOzB,EAAOa,MAC7C2B,EAAiBxC,EAAOyB,MAAOzB,EAAOa,QAWtC,UACE,qBAAI3C,UAAU,oBAAd,mDAA2CuE,EAAY5B,KAAvD,QACCQ,GAAa,cAAC,EAAD,IACd,sBAAKnD,UAAU,sBAAf,UACE,mBAAGA,UAAU,iBAAb,gCACA,sBAAKA,UAAU,gBAAf,UACE,uBACEyD,SAAUhB,EACVzC,UAAS,yBAAoBkC,GAAUA,EAAM,MAAY,6BACzD2C,YAAaN,EAAY5B,KACzBA,KAAK,OACLoB,UAAU,IACVC,UAAU,KACVN,UAAQ,IAEV,sBAAM1D,UAAU,uBAAuBa,GAAG,mBAA1C,SACGqB,GAAUA,EAAM,MAAYA,EAAM,UAGvC,sBAAKlC,UAAU,gBAAf,UACE,uBACEyD,SAAUhB,EACVzC,UAAS,yBAAoBkC,GAAUA,EAAM,OAAa,6BAC1D2C,YAAaN,EAAYhB,MACzB7B,KAAK,QACLiB,KAAK,QACLe,UAAQ,EACRC,QAAQ,6HAEV,sBAAM3D,UAAU,uBAAuBa,GAAG,oBAA1C,SACGqB,GAAUA,EAAM,OAAaA,EAAM,WAGxC,mBAAGlC,UAAU,iBAAb,uBAEF,wBAAQ0B,KAAK,SAAS1B,UAAU,sBAAsB4D,UAAW5B,EAAjE,4FACA,cAAC,IAAD,CAAS/B,QAASoE,EAAenE,GAAG,IAAIF,UAAU,oBAAlD,iHCvBO8E,G,MAtCE,SAAC,GASX,IARLC,EAQI,EARJA,SACAC,EAOI,EAPJA,mBAKAvC,GAEI,EANJX,OAMI,EALJmD,MAKI,EAJJC,cAII,EAHJC,MAGI,EAFJ1C,cAEI,EADJ2C,kBAYA,OACE,sBAAKpF,UAAU,WAAf,UACE,qBAAKA,UAAU,sBAAf,SACE,wBAAOA,UAAU,kBAAjB,UACE,uBACE0B,KAAK,WACL1B,UAAU,kBACVyD,SAAUhB,EACVxC,QAjBU,SAACyC,GACnB,IAAM2C,EAAQ3C,EAAIzB,OAAOqE,WAAWA,WAAWA,WAAWA,WAAWC,WAAW,GAAGA,WAAW,GAAG3C,MACjGmC,EAASrC,EAAIzB,OAAOuE,SACpBb,QAAQC,IAAIlC,EAAIzB,OAAOuE,SACvBR,EAAmBK,EAAO3C,EAAIzB,OAAOuE,YAe/B,sBAAMxF,UAAU,6BAGpB,mBAAGA,UAAU,kBAAb,6GCnCS,MAA0B,wCCmD1ByF,G,MA1CI,SAAC,GAAqD,IAAnDT,EAAkD,EAAlDA,mBACpB,GADsE,EAA9BrF,KAA8B,EAAxByF,kBACbzD,EAAQ,KAAjCG,EAAR,EAAQA,OAAQW,EAAhB,EAAgBA,aAChB,EAA0BZ,oBAAS,GAAnC,mBAAOoD,EAAP,KAAcF,EAAd,KAUA,OACE,0BAAS/E,UAAU,aAAnB,UACE,qBAAKA,UAAU,wBAAf,SACE,qBAAKA,UAAU,mBAAmBS,IAAKiF,EAAY/E,IAAI,mBAEvD,uBACAX,UAAU,mBACVqD,SAbe,SAACX,GACpBA,EAAIY,iBACJ0B,EAAmBlD,EAAOqD,MAAOF,IAS7B,UAIE,sBAAKjF,UAAU,kBAAf,UACE,uBACEA,UAAU,oBACV6E,YAAY,iCACZlC,KAAK,QACLc,SAAUhB,IAEZ,wBAAQzC,UAAU,8BAEpB,qBAAKA,UAAU,mCACf,cAAC,EAAD,CACE+E,SAAUA,EACVC,mBAAoBA,EACpBvC,aAAcA,OAGpB,qBAAKzC,UAAU,+BC9CN,MAA0B,qCCA1B,MAA0B,4CCA1B,MAA0B,uCCqD1B2F,G,MA7CI,SAAC,GAAwD,IAAtDC,EAAqD,EAArDA,KAAMjG,EAA+C,EAA/CA,KAAMkG,EAAyC,EAAzCA,UAAWC,EAA8B,EAA9BA,YACrCC,EADmE,EAAjBC,WAC7BC,MAAK,SAAAC,GAAC,OAAIA,EAAEC,SAAWP,EAAKO,UAMjDC,EAAoC,kBAATzG,GAA6B,OACxD0G,EAAsC,YAAT1G,GAAuB,OAE1D,OACE,qBAAIK,UAAU,OAAd,UACE,mBAAGO,KAAMqF,EAAKU,QAASrF,OAAO,QAA9B,SACE,qBACEjB,UAAU,YACVS,IAAKmF,EAAKW,MACV5F,IAAKiF,EAAKO,WAGd,sBAAKnG,UAAU,aAAf,UACE,mBAAGA,UAAU,cAAb,SAA4B4F,EAAKO,SACjC,qBACE1F,IAAKsF,EAAUS,EAAgBC,EAC/BzG,UAAU,mBACVW,IAAI,cACJ+F,MAAO,CAACC,QAASP,GACjBnG,QAvBc,kBAAM8F,EAAUD,EAAYF,GAAQC,EAAUD,MAyB9D,qBACEnF,IAAKmG,EACL5G,UAAU,mBACVW,IAAI,gBACJ+F,MAAO,CAACC,QAASN,GACjBpG,QA5BgB,kBAAM6F,EAAYF,SA+BtC,mBAAG5F,UAAU,iBAAb,SACE4F,EAAKiB,SAAW,GAAhB,UACKjB,EAAKiB,SADV,oBAEKC,KAAKC,MAAMnB,EAAKiB,SAAW,IAFhC,kBAEwCjB,EAAKiB,SAAW,GAAKC,KAAKC,MAAMnB,EAAKiB,SAAW,IAFxF,iBCjCOG,G,MARY,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SAC5B,OACE,sBAAMjH,UAAU,cAAhB,SACGiH,MCPDC,EAAe,+BACfC,EAAS,iDACTC,EAAkB,0DCAlBC,EAAe,SAAChC,EAAOiC,GAAmC,IAA3BpC,EAA0B,wDAC7D,OAAIA,GAA4B,KAAVG,EACbiC,GAEJpC,GAAkBG,EAAMkC,OAAS,GAAOD,EAAOC,OAAS,IACpDD,EAAOE,QAAO,SAACrC,GAAD,OAAWA,EAAMgB,OAAOsB,cAAcC,SAASrC,EAAMoC,kBAExEpC,EAAMkC,OAAS,EAAW,GACvBD,EAAOE,QAAO,SAACrC,GAAD,OAAWA,EAAMgB,OAAOsB,cAAcC,SAASrC,EAAMoC,mBAKtErC,EAAoB,SAACkC,GACzB,OAAOA,EAAOE,QAAO,SAACrC,GAAD,OAAWA,EAAM0B,UAAY,OCqIrCc,G,MAvIQ,SAAC,GAUjB,IATLhI,EASI,EATJA,KACA2H,EAQI,EARJA,OACAtB,EAOI,EAPJA,WACA4B,EAMI,EANJA,kBACA/B,EAKI,EALJA,UACAC,EAII,EAJJA,YACA3C,EAGI,EAHJA,UACA0E,EAEI,EAFJA,YACAC,EACI,EADJA,cAEA,EAAoDjG,oBAAS,WAC3D,GAAa,kBAATlC,EACF,OAAO,IAET,IAAMoI,EAAOC,OAAOC,WACpB,OAAIF,EAAO,IACF,EACEA,EAAO,KACT,EACEA,GAAQ,KACV,GACEA,EAAO,KACT,QADF,KAXT,mBAAOG,EAAP,KAA2BC,EAA3B,KAgBA,EAAsDtG,oBAAS,WAC7D,IAAMkG,EAAOC,OAAOC,WACpB,OAAIF,EAAO,KAEAA,EAAO,KADT,EAGEA,GAAQ,KACV,EACEA,EAAO,KACT,OADF,KART,mBAAOK,EAAP,KAA4BC,EAA5B,KAaMC,EAAejG,uBAAY,WAClB,kBAAT1C,GACFwI,EAAsB,KAExB,IAAMJ,EAAOC,OAAOC,WAChBF,EAAO,KACTI,EAAsB,GACtBE,EAAuB,IACdN,EAAO,MAChBI,EAAsB,GACtBE,EAAuB,IACdN,GAAQ,MACjBI,EAAsB,IACtBE,EAAuB,IACdN,EAAO,OAChBI,EAAsB,IACtBE,EAAuB,MAExB,CAAC1I,IAOE4I,EAAsB,WAE1B,OADiBC,KAAKC,MAAMC,aAAaC,QAAQ,kBAEf,YAAThJ,EACrB6I,KAAKC,MAAMC,aAAaC,QAAQ,kBAChCH,KAAKC,MAAMC,aAAaC,QAAQ,gBAG7B,IAGHC,EAA0B,YAATjJ,EAAsB2H,EAAOuB,MAAM,EAAGX,GAAsBZ,EAC7EwB,EAA0B,YAATnJ,EAAsB4I,IAAsBM,MAAM,EAAGX,GAAsBK,IAC5FQ,EAAcnB,EAAoBgB,EAAgBE,EAExDrE,qBAAU,WACRuD,OAAOgB,iBAAiB,SAAUV,KACjC,CAACA,IAEJ7D,qBAAU,WACR8D,OAGF,IAAMU,EAA+B,kBAATtJ,GAA6B,OAoBzD,OACE,0BAASK,UAAU,iBAAnB,UACGmD,GAAa,cAAC,EAAD,IACb8F,GAdiB,WACpB,GAAIP,aAAaC,QAAQ,eAAgB,CACvC,IAAMO,EAAcV,KAAKC,MAAMC,aAAaC,QAAQ,gBAAgBpB,OACpE,OAAqB,IAAhB2B,GAAuC,OAAhBA,GAWLC,IAAmB,cAAC,EAAD,CAAoBlC,SDxFhD,gKCyFbY,GAAe,cAAC,EAAD,CAAoBZ,SD1FlB,uqBC2FjBa,GAAiBF,GAAqB,cAAC,EAAD,CAAoBX,SDzFvC,kGC0FpB,oBAAIjH,UAAU,uBAAd,SACG+I,EAAYK,KAAI,SAACxD,GAAD,OACf,cAAC,EAAD,CAEEA,KAAMA,EACNjG,KAAMA,EACNkG,UAAWA,EACXC,YAAaA,EACbE,WAAYA,GALPJ,EAAKyD,cASf,wBACDrJ,UAAU,gCACV0G,MAAO,CAACC,QArCG,kBAAThH,EAAkC,OAClC6I,KAAKC,MAAMC,aAAaC,QAAQ,mBAAsBG,EAAcvB,OAASiB,KAAKC,MAAMC,aAAaC,QAAQ,kBAAkBpB,OAAiB,GAChJqB,EAAcrB,SAAWD,EAAOC,OAAgB,OAC7C,IAmCLtH,QArEyB,WAC3BkI,GAAsB,SAAAmB,GAAI,OAAKA,EAAOlB,MAiEnC,qCC/FQmB,G,MArCA,SAAC,GAYP,IAXPC,EAWM,EAXNA,WACAlC,EAUM,EAVNA,OACAtB,EASM,EATNA,WACAhB,EAQM,EARNA,mBACA4C,EAOM,EAPNA,kBACA/B,EAMM,EANNA,UACAC,EAKM,EALNA,YACA3C,EAIM,EAJNA,UACA0E,EAGM,EAHNA,YACAC,EAEM,EAFNA,cACA1C,EACM,EADNA,kBAIA,OACE,0BAASpF,UAAU,SAAnB,UACE,cAAC,EAAD,CACEgF,mBAAoBA,EACpBrF,KAAM6J,EACNpE,kBAAmBA,IAErB,cAAC,EAAD,CACEzF,KAAM6J,EACNlC,OAAQA,EACRtB,WAAYA,EACZ4B,kBAAmBA,EACnB/B,UAAWA,EACXC,YAAaA,EACb3C,UAAWA,EACX0E,YAAaA,EACbC,cAAeA,SCCR2B,G,MAnCK,SAAC,GAWZ,IAVPD,EAUM,EAVNA,WACAlC,EASM,EATNA,OACAtB,EAQM,EARNA,WACAhB,EAOM,EAPNA,mBACA4C,EAMM,EANNA,kBACA/B,EAKM,EALNA,UACAC,EAIM,EAJNA,YACA+B,EAGM,EAHNA,YACAC,EAEM,EAFNA,cACA1C,EACM,EADNA,kBAGA,OACE,0BAASpF,UAAU,cAAnB,UACE,cAAC,EAAD,CACEgF,mBAAoBA,EACpBrF,KAAM6J,EACNpE,kBAAmBA,IAErB,cAAC,EAAD,CACEzF,KAAM6J,EACNlC,OAAQA,EACRtB,WAAYA,EACZ4B,kBAAmBA,EACnB/B,UAAWA,EACXC,YAAaA,EACb+B,YAAaA,EACbC,cAAeA,EACvB4B,UAAC,SChBcC,G,MAdE,WACf,OACE,yBAAS3J,UAAU,WAAnB,SACE,sBAAKA,UAAU,sBAAf,UACE,oBAAIA,UAAU,kBAAd,iBACA,mBAAGA,UAAU,iBAAb,sHACA,cAAC,IAAD,CAASE,GAAG,IAAIF,UAAU,iBAA1B,mD,QCKO4J,EAZQ,SAAC,GAAwC,IAA3BC,EAA0B,EAArCC,UAAyBC,EAAY,6BAC7D,OACE,cAAC,IAAD,UAEI,kBAAMA,EAAM1J,eACR,cAACwJ,EAAD,eAAeE,IACf,cAAC,IAAD,CAAU7J,GAAG,iB,gBCmBV8J,GAFG,I,WAvBhB,cAAsB,IAARC,EAAO,EAAPA,IAAO,oBACnBC,KAAKD,IAAMA,E,sDAGb,SAAmBE,GACjB,OAAIA,EAAIC,GACCD,EAAIE,OAENC,QAAQC,OAAR,8CAAsDJ,EAAIK,W,uBAGnE,WACE,OAAOC,MAAM,GAAD,OAAIP,KAAKD,IAAT,oBACZ,CACES,QAAS,CACPC,OAAQ,mBACR,eAAgB,sBAGnBC,KAAKV,KAAKW,wB,KAIG,CAAc,CAAEZ,IAAK/C,ICoDxB4D,GAFC,I,WAzEd,cAAsB,IAARb,EAAO,EAAPA,IAAO,oBACnBC,KAAKD,IAAMA,E,sDAGb,SAAmBE,GACjB,OAAIA,EAAIC,GACCD,EAAIE,OAENC,QAAQC,OAAR,8CAAsDJ,EAAIK,W,4BAGnE,SAAeO,GAAM,IAAD,OAClB,OAAON,MAAM,GAAD,OAAIP,KAAKD,IAAT,WAAuB,CACjCS,QAAS,CACPM,cAAc,UAAD,OAAYD,GACzB,eAAgB,sBAEjBH,MAAK,SAACT,GAAD,OAAS,EAAKU,mBAAmBV,Q,uBAG3C,SAAUY,EAAK5F,GAAQ,IAAD,OACpB,OAAOsF,MAAM,GAAD,OAAIP,KAAKD,IAAT,WAAuB,CACjCS,QAAS,CACPM,cAAc,UAAD,OAAYD,GACzB,eAAgB,oBAElB3H,OAAQ,OACR6H,KAAMzC,KAAK0C,UAAU/F,KAEpByF,MAAK,SAACT,GAAD,OAAS,EAAKU,mBAAmBV,Q,yBAG3C,SAAYY,EAAK1B,GAAU,IAAD,OACxB,OAAOoB,MAAM,GAAD,OAAIP,KAAKD,IAAT,mBAAuBZ,GAAW,CAC5CqB,QAAS,CACPM,cAAc,UAAD,OAAYD,GACzB,eAAgB,oBAElB3H,OAAQ,WAEPwH,MAAK,SAACT,GAAD,OAAS,EAAKU,mBAAmBV,Q,yBAG3C,SAAYY,GAAM,IAAD,OACf,OAAON,MAAM,GAAD,OAAIP,KAAKD,IAAT,aAAyB,CACnCS,QAAS,CACPM,cAAc,UAAD,OAAYD,GACzB,eAAgB,sBAGjBH,MAAK,SAACT,GAAD,OAAS,EAAKU,mBAAmBV,Q,4BAG3C,SAAeY,EAAKxH,EAAOZ,GAAO,IAAD,OAC/B,OAAO8H,MAAM,GAAD,OAAIP,KAAKD,IAAT,aAAyB,CACnCS,QAAS,CACPM,cAAc,UAAD,OAAYD,GACzB,eAAgB,oBAElB3H,OAAQ,QACR6H,KAAMzC,KAAK0C,UAAU,CACnB3H,QACAZ,WAGDiI,MAAK,SAACT,GAAD,OAAS,EAAKU,mBAAmBV,Q,+BAG3C,SAAkBY,EAAK5F,EAAOkE,EAAStD,GACrC,OAAOA,EAAUmE,KAAKpE,YAAYiF,EAAK1B,GAAWa,KAAKrE,UAAUkF,EAAK5F,O,KAI1D,CAAY,CAAE8E,IAAK9C,IChD7BgE,GAAS,SAAC5H,EAAOC,GACrB,OAAOiH,MAAM,GAAD,OAAItD,EAAJ,WAAqB,CAC/B/D,OAAQ,OACRsH,QAAS,CACP,eAAgB,oBAElBO,KAAMzC,KAAK0C,UAAU,CACnB1H,SAAUA,EACVD,MAAOA,MAGRqH,MAAK,SAACT,GAAD,OAASA,EAAIE,UAClBO,MAAK,SAACQ,GACL,GAAIA,EAAKC,MAEP,OADA3C,aAAa4C,QAAQ,MAAOF,EAAKC,OAC1BD,M,MCkVAG,OAlWf,WAGA,MAAwC1J,oBAAS,GAAjD,mBAAOR,EAAP,KAAqBmK,EAArB,KACM5L,EAAqB,kBAAqB4L,GAAfnK,IAGzBoK,EAAWC,cACXC,EAAUC,cAEhB,EAAkC/J,oBAAS,GAA3C,mBAAOsB,EAAP,KAAkB0I,EAAlB,KACA,EAAkDhK,oBAAS,GAA3D,mBAAO+F,EAAP,KAA0BkE,EAA1B,KAEA,EAA4BjK,mBAAS,IAArC,mBAAOyF,EAAP,KAAeyE,EAAf,KAEA,EAAsClK,mBAAS,IAA/C,mBAAO0C,EAAP,KAAoByH,EAApB,KACA,EAAoCnK,mBAAS,IAA7C,mBAAOmE,EAAP,KAAmBiG,EAAnB,KACA,EAA4CpK,oBAAS,GAArD,mBAAOxB,EAAP,KAAuB6L,EAAvB,KAEA,GAAsCrK,oBAAS,GAA/C,qBAAOgG,GAAP,MAAoBsE,GAApB,MACA,GAA0CtK,oBAAS,GAAnD,qBAAOiG,GAAP,MAAsBsE,GAAtB,MAEA,GAAkCvK,mBAAS,IAA3C,qBAAOwK,GAAP,MAAkBC,GAAlB,MACA,GAAsCzK,oBAAS,GAA/C,qBAAO0K,GAAP,MAAoBC,GAApB,MAGA/H,qBAAU,WACR,IAAMsG,EAAMrC,aAAaC,QAAQ,OAC7BtI,IACFwL,GAAa,GACbvB,QAAQmC,IAAI,CACV3B,GAAQ4B,YAAY3B,GACpBD,GAAQ6B,eAAe5B,KAEtBH,MAAK,SAAAQ,GACJ,kBAA+BA,EAA/B,GAAOwB,EAAP,KAAiB5G,EAAjB,KACA0C,aAAa4C,QAAQ,cAAe9C,KAAK0C,UAAUlF,IACnDgG,EAAeY,GACfX,EAAcjG,GACd6F,GAAa,SAGlB,CAACxL,EAAgBkE,EAAY1D,GAAI4K,IAGpC,IAAMoB,GAAmBxK,uBAAY,WACnC,GAAIqG,aAAaC,QAAQ,OAAQ,CAC/B,IAAMoC,EAAMrC,aAAaC,QAAQ,QDxEnB0C,ECyEHN,EDxERN,MAAM,GAAD,OAAItD,EAAJ,aAAuB,CACjC/D,OAAQ,MACRsH,QAAS,CACP,eAAgB,mBAChBoC,cAAc,UAAD,OAAYzB,MAG1BT,MAAK,SAACT,GAAD,OAASA,EAAIE,UAClBO,MAAK,SAACQ,GAAD,OAAUA,MCiEXR,MAAK,SAACmC,GACDA,IACFf,EAAee,GACfb,GAAkB,GAClBP,EAAQqB,KAAKvB,OAGhBwB,OAAM,SAAAC,GACLC,GAAUD,EAAIE,SACdzI,QAAQC,IAAIsI,GACZhB,GAAkB,GAClBP,EAAQqB,KAAK,KACbtE,aAAa2E,WDtFJ,IAAChC,ICyFf,CAACM,IAGJlH,qBAAU,WACRoI,OACC,CAACA,KAGJpI,qBAAU,WACc,kBAAtBgH,EAAS6B,SACLvB,EAAU/F,IACR8F,GAAwBC,EAAU,MACvC,CAACN,EAAS6B,SAAUtH,IAGvBvB,qBAAU,WACe,YAAtBgH,EAAS6B,UAA2BvB,EAAU,MAC9C,CAACN,EAAS6B,SAAU3B,IAGvB,IA0EM4B,GAAkB,WAEtB,OADA1B,GAAa,GACN,IAAIvB,SAAQ,SAACkD,EAASjD,GAC3BP,GAAUyD,YACP7C,MAAK,SAAAtD,GAAM,OAAIA,EAAO8B,KAAI,SAAAjE,GAAK,MTxK/B,CACLuI,SAFwBC,ESyKmCxI,GTvKpCuI,QACvBE,SAAUD,EAAcC,SACxB/G,SAAU8G,EAAc9G,SACxBgH,KAAMF,EAAcE,KACpBC,YAAaH,EAAcG,YAC3BvH,MAAOoH,EAAcpH,MAAd,UAAyBW,GAAzB,OAAwCyG,EAAcpH,MAAM0D,KAAQ7C,EAC3Ed,QAASqH,EAAcI,aAAeJ,EAAcI,YAAYrG,SAAS,QAAUiG,EAAcI,YDzB3E,sBC0BtBC,UAAU,GAAD,OAAK9G,GAAL,OAAoByG,EAAcpH,OAASoH,EAAcpH,MAAM0H,QAAUN,EAAcpH,MAAM0H,QAAQD,UAAU/D,IAAM7C,GAC9HiC,QAASsE,EAAc9M,GACvBsF,OAAQwH,EAAcxH,OAASwH,EAAcxH,OAAS,0GACtD+H,OAAQP,EAAcO,OAASP,EAAcO,OAAS,2GAZ/B,IAACP,QS0KnB/C,MAAK,SAAAuD,GAAa,OAAIzF,aAAa4C,QAAQ,YAAa9C,KAAK0C,UAAUiD,OACvElB,OAAM,SAAAC,GACLf,IAAe,GACfgB,GAAUD,EAAIE,SACdzI,QAAQC,IAAI,0BAA2BsI,MAExCkB,SAAQ,kBAAMvC,GAAa,UAK5B7G,GAAqB,SAACK,GAA0B,IAAnBJ,EAAkB,wDAC/CC,EAAsC,kBAAtBuG,EAAS6B,SAK7B,GAJAzB,GAAa,GACbC,GAAqB,GACrBK,IAAe,GACfC,IAAiB,GACblH,GAA6E,IAA3DsD,KAAKC,MAAMC,aAAaC,QAAQ,gBAAgBpB,OAGpE,OAFAsE,GAAa,QACbC,GAAqB,GAGvB,GAAK5G,QAA2BmJ,IAAVhJ,EAAtB,CAIA,GAAIH,IAAkBD,SAAoBoJ,IAAVhJ,GAAiC,KAAVA,GAIrD,OAHA0G,EAAU/F,GACV8F,GAAqB,QACrBD,GAAa,GAGf,IAAIyC,EAAMpJ,EAAgBc,EAAawC,KAAKC,MAAMC,aAAaC,QAAQ,cAKvE,IAJKzD,GAA4B,KAAVG,GAAiBmD,KAAKC,MAAMC,aAAaC,QAAQ,oBACtE2F,EAAM9F,KAAKC,MAAMC,aAAaC,QAAQ,mBAEnCzD,GAAyB,OAARoJ,GAAef,KACjCrI,GAAyB,OAARoJ,EACnBzC,GAAa,OADf,CAKA,IAAM0C,EAAgBtJ,EAAQG,EAAkBiC,EAAahC,EAAOiJ,EAAKpJ,IAAkBmC,EAAahC,EAAOiJ,GAClF,IAAzBC,EAAchH,QAAe6E,IAAiB,GAClDL,EAAUwC,GACV5J,QAAQC,IAAI,kBAAmB0C,IAC9BpC,GAAiBwD,aAAa4C,QAAQ,gBAAiB9C,KAAK0C,UAAUqD,IACvEzC,GAAqB,GACrBD,GAAa,SAzBXA,GAAa,IA4BXhG,GAAY,SAACV,GACjB,IAAM4F,EAAMrC,aAAaC,QAAQ,OAC3B6F,EAAchG,KAAKC,MAAMC,aAAaC,QAAQ,gBACpC6F,EAAYC,MAAK,SAACC,GAAD,OAASA,EAAIrF,UAAYlE,EAAMkE,aAIhEwC,GAAa,GACbf,GAAQjF,UAAUkF,EAAK5F,GACpByF,MAAK,SAACzF,GACL,IAAMwJ,EAAc,CAAIxJ,GAAJ,mBAAcqJ,IAClC9F,aAAa4C,QAAQ,cAAe9C,KAAK0C,UAAUyD,IACnD1C,EAAc0C,MAEf1B,OAAM,SAACC,GAAD,OAASvI,QAAQC,IAAI,oBAAqBsI,MAChDkB,SAAQ,kBAAMvC,GAAa,QAI1B/F,GAAc,SAACX,GACnB0G,GAAa,GACb,IAAMd,EAAMrC,aAAaC,QAAQ,OAC3B6F,EAAchG,KAAKC,MAAMC,aAAaC,QAAQ,gBAC9CiG,EAAkBJ,EAAYvI,MAAK,SAAAC,GAAC,OAAIA,EAAEmD,UAAYlE,EAAMkE,WAA1C,IACxByB,GAAQhF,YAAYiF,EAAK6D,GACtBhE,MAAK,SAAC8D,GACL,IAAMG,EAAYL,EAAYhH,QAAO,SAACrC,GAAD,OAAWA,EAAMkE,UAAYqF,EAAIrF,WACtEX,aAAa4C,QAAQ,cAAe9C,KAAK0C,UAAU2D,IACnD5C,EAAc4C,MAEf5B,OAAM,SAACC,GAAD,OAASvI,QAAQC,IAAI,sBAAuBsI,MAClDkB,SAAQ,kBAAMvC,GAAa,OAI1BsB,GAAY,SAAC5L,GACjB+K,GAAa/K,GACbiL,IAAe,IAGXsC,GAAY,WAChBtC,IAAe,IASjB,OACE,eAACvI,EAAmB8K,SAApB,CAA6BnM,MAAO,CAAC2B,eAArC,UACE,sBAAKvE,UAAU,MAAf,UAEE,cAAC,EAAD,CACEL,KAAM8L,EAAS6B,SACf1N,mBAAoBA,EACpBS,eAAgBA,IAGlB,eAAC,IAAD,WACE,cAAC,IAAD,CAAO2O,OAAK,EAACrP,KAAK,IAAlB,SACE,cAAC,EAAD,MAEF,cAAC,EAAD,CACEmK,UAAWP,EACX5J,KAAK,UACLU,eAAgBA,EAChBmJ,WAAYiC,EAAS6B,SACrBhG,OAAQA,EACRtB,WAAYA,EACZhB,mBAAoBA,GACpB4C,kBAAmBA,EACnB/B,UAAWA,GACXC,YAAaA,GACb3C,UAAWA,EACX0E,YAAaA,GACbC,cAAeA,GACf1C,kBAAmBA,IAErB,cAAC,EAAD,CACE0E,UAAWL,EACX9J,KAAK,gBACLU,eAAgBA,EAChBmJ,WAAYiC,EAAS6B,SACrBhG,OAAQA,EACRtB,WAAYA,EACZhB,mBAAoBA,GACpB4C,kBAAmBA,EACnB/B,UAAWA,GACXC,YAAaA,GACb+B,YAAaA,GACbC,cAAeA,GACf1C,kBAAmBA,IAErB,cAAC,IAAD,CAAOzF,KAAK,UAAZ,SACE,cAAC,EAAD,CACEuD,SAzMS,SAACK,EAAOC,GAC3BqI,GAAa,GACbV,GAAO5H,EAAOC,GACXoH,MAAK,SAACQ,GACDA,EAAKC,OACPa,GAAkB,GAClBqB,KACA5B,EAAQqB,KAAK,WACbG,GAAU,4IAEVA,GAAU,4FAIbF,OAAM,SAACC,GACNC,GAAUD,EAAIE,SACdzI,QAAQC,IAAI,uBAAwBsI,MAErCkB,SAAQ,kBAAMvC,GAAa,OAwLpB1I,UAAWA,MAGf,cAAC,IAAD,CAAOxD,KAAK,UAAZ,SACE,cAAC,EAAD,CACEmE,SAzOS,SAACP,EAAOC,EAAUb,GACrCkJ,GAAa,GDlGF,SAACtI,EAAOC,EAAUb,GAC/B,OAAO8H,MAAM,GAAD,OAAItD,EAAJ,WAAqB,CAC/B/D,OAAQ,OACRsH,QAAS,CACP,eAAgB,oBAElBO,KAAMzC,KAAK0C,UAAU,CACnB3H,QAAOC,WAAUb,WAGlBiI,MAAK,SAACT,GAAD,OAASA,EAAIE,UAClBO,MAAK,SAACT,GAAD,OAASA,KCwFf8E,CAAO1L,EAAOC,EAAUb,GACrBiI,MAAK,SAACT,GACDA,EAAIiB,MACND,GAAOhB,EAAIiB,KAAK7H,MAAOC,GACpBoH,MAAK,SAACQ,GACDA,EAAKC,QACPa,GAAkB,GAClBqB,KACA5B,EAAQqB,KAAK,WACbG,GAAU,gLAOnBF,OAAM,SAACC,GACNC,GAAUD,EAAIE,SACdzI,QAAQC,IAAI,uBAAwBsI,MAErCkB,SAAQ,kBAAMvC,GAAa,OAoNpB1I,UAAWA,MAGf,cAAC,EAAD,CACE2G,UAAW1F,EACXzE,KAAK,WACLU,eAAgBA,EAChBgE,cAjMY,WACpBwH,GAAa,GACbK,GAAkB,GAClBF,EAAe,IACftD,aAAa2E,QACbtB,EAAU,IACVE,EAAc,IACdJ,GAAa,GACbF,EAAQqB,KAAK,MA0LL1I,iBAtLe,SAACf,EAAOZ,GAC/BkJ,GAAa,GACb,IAAMd,EAAMrC,aAAaC,QAAQ,OACjCmC,GACGoE,eAAenE,EAAKxH,EAAOZ,GAC3BiI,MAAK,SAACmC,GACLf,EAAee,GACfI,GAAU,sKAEXF,OAAM,SAACC,GAAD,OAASvI,QAAQC,IAAI,2BAA4BsI,MACvDkB,SAAQ,kBAAMvC,GAAa,OA6KtB1I,UAAWA,IAEb,cAAC,IAAD,CAAOxD,KAAK,IAAZ,SACE,cAAC,EAAD,SAIJ,cAAC,EAAD,CAAQA,KAAM8L,EAAS6B,cAGzB,cAAC,EAAD,CACEjM,aAAcA,EACdzB,mBAAoBA,IAGtB,cAAC,EAAD,CACE2B,KAAM8K,GACN7K,OAAQ+K,GACR9K,QAASqN,GACT7O,QAxFqB,SAACyC,GACtBA,EAAIzB,SAAWyB,EAAIyM,eACrBL,YCnRSM,GAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqB1E,MAAK,YAAkD,IAA/C2E,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCAdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,IAAD,CAAeC,SAAUC,GAAzB,SACE,cAAC,GAAD,QAGJC,SAASC,eAAe,SAM1Bd,Q","file":"static/js/main.e21d731f.chunk.js","sourcesContent":["import { NavLink } from \"react-router-dom\";\nimport './NavigationLogin.css';\n\nconst NavigationLogin = ({ path, handleMenuSwitcher }) => {\n  // const menuClassSwitcher = `navigation-login__menu ${\n  //   path === '/'\n  //   ? \"navigation-login__menu_white\"\n  //   : \"\"\n  // }`\n  const filmsClassSwitcher = `navigation-login__btn ${\n    path === '/'\n    ? \"navigation-login__btn_white\"\n    : \"\"\n  }`\n  const savedfilmsClassSwitcher = `navigation-login__btn navigation-login__btn_thin ${\n    path === '/'\n    ? \"navigation-login__btn_white\"\n    : \"\"\n  }`\n  const accountClassSwitcher = `navigation-login__btn navigation-login__btn_oval ${\n    path === '/'\n    ? \"navigation-login__btn_white navigation-login__btn_transparent\"\n    : \"\"\n  }`\n\n  return(\n    <section className=\"navigation-login\">\n      <button className=\"navigation-login__menu\" onClick={handleMenuSwitcher}></button>\n      <NavLink to=\"/movies\" className={filmsClassSwitcher}>Фильмы</NavLink>\n      <NavLink to=\"/saved-movies\" className={savedfilmsClassSwitcher}>Сохраненные фильмы</NavLink>\n      <NavLink to=\"/profile\" className={accountClassSwitcher}>Аккаунт</NavLink>\n    </section>\n  );\n}\n\nexport default NavigationLogin;\n","import { NavLink } from \"react-router-dom\";\nimport './NavigationLogout.css';\n\nconst NavigationLogout = () => {\n  return(\n    <section className=\"navigation-logout\">\n      <NavLink to=\"/signup\" className=\"navigation-logout__btn\">Регистрация</NavLink>\n      <NavLink to=\"/signin\" className=\"navigation-logout__btn navigation-logout__btn_square\">Войти</NavLink>\n    </section>\n  );\n}\n\nexport default NavigationLogout;\n","import React from 'react';\n\n\nimport NavigationLogin from '../NavigationLogin/NavigationLogin'\nimport NavigationLogout from '../NavigationLogout/NavigationLogout'\nimport './Header.css';\n\nconst Header = ({ path, handleMenuSwitcher, isAutenticated }) => {\n  const classSwitcher = `header ${\n    (path === '/signin' || path === '/signup')\n    ? \"header_hidden\"\n    : \"\"\n  }`\n\n\n  return(\n    <section className={classSwitcher}>\n      <a href=\"/\" className=\"header__logo\">.</a>\n      <div className=\"header__menu-area\">\n        {isAutenticated\n          ? <NavigationLogin\n              path={path}\n              handleMenuSwitcher={handleMenuSwitcher}\n            />\n          : <NavigationLogout\n        />}\n      </div>\n    </section>\n  );\n}\n\nexport default Header;\n","export default __webpack_public_path__ + \"static/media/promo_back_img.be95fd4a.png\";","import './Promo.css';\nimport promoImg from '../../images/promo_back_img.png'\n\nconst Promo = () => {\n  return(\n    <section className=\"promo\">\n      <div className=\"promo__container\">\n        <h1 className=\"promo__title\">Учебный проект студента факультета Веб-разработки.</h1>\n        <img className=\"promo__img\" src={promoImg} alt=\"promo_img\" />\n      </div>\n    </section>\n  );\n}\n\nexport default Promo;\n","import './AboutProject.css';\n\nconst AboutProject = () => {\n  return(\n    <section className=\"aboutproject\" id=\"project\">\n      <h2 className=\"aboutproject__title\">О проекте</h2>\n      <div className=\"aboutproject__cards-area\">\n      <div className=\"aboutproject__card\">\n        <p className=\"aboutproject__card-title\">Дипломный проект включал 5 этапов</p>\n        <p className=\"aboutproject__card-text\">Составление плана, работу над бэкендом, вёрстку, добавление функциональности и финальные доработки.</p>\n      </div>\n      <div className=\"aboutproject__card\">\n        <p className=\"aboutproject__card-title\">На выполнение диплома ушло 5 недель</p>\n        <p className=\"aboutproject__card-text\">У каждого этапа был мягкий и жёсткий дедлайн, которые нужно было соблюдать, чтобы успешно защититься.</p>\n      </div>\n      </div>\n      <div className=\"aboutproject__time-container\">\n        <div className=\"aboutproject__progress aboutproject__progress_green\">1 неделя</div>\n        <div className=\"aboutproject__progress\">4 недели</div>\n        <p className=\"aboutproject__time\">Back-end</p>\n        <p className=\"aboutproject__time\">Front-end</p>\n      </div>\n    </section>\n  );\n}\n\nexport default AboutProject;\n","import './Techs.css';\n\nconst Techs = () => {\n  return(\n    <section className=\"techs\" id=\"techs\">\n      <h2 className=\"techs__title\">Технологии</h2>\n      <p className=\"techs__subtitle\">7 технологий</p>\n      <p className=\"techs__text\">На курсе веб-разработки мы освоили технологии, которые применили в дипломном проекте.</p>\n      <div className=\"techs__area\">\n        <div className=\"techs__item\">HTML</div>\n        <div className=\"techs__item\">CSS</div>\n        <div className=\"techs__item\">JS</div>\n        <div className=\"techs__item\">React</div>\n        <div className=\"techs__item\">Git</div>\n        <div className=\"techs__item\">Express.js</div>\n        <div className=\"techs__item\">mongoDB</div>\n      </div>\n    </section>\n  );\n}\n\nexport default Techs;\n","import './AboutMe.css';\n\nconst AboutMe = () => {\n  return(\n    <section className=\"aboutme\" id=\"student\">\n      <h2 className=\"aboutproject__title\">Студент</h2>\n      <div className=\"aboutme__area\">\n        <div className=\"aboutme__info\">\n          <p className=\"aboutme__name\">Антон</p>\n          <p className=\"aboutme__short\">Фронтенд-разработчик, 31 год</p>\n          <p className=\"aboutme__full\">Живу в Питере, закончил магистратуру СПБГЭУ по направлению \"Учет, анализ и аудит\". В прошлом - серийный бухгалтер. Женат, есть сын и кот.</p>\n          <ul className=\"aboutme__social\">\n            <li className=\"aboutme__social-item\">\n              <a href=\"https://www.facebook.com/\" className=\"aboutme__social-link\">Facebook</a>\n            </li>\n            <li className=\"aboutme__social-item\">\n              <a href=\"https://github.com/antohakriukow\" className=\"aboutme__social-link\">Github</a>\n            </li>\n          </ul>\n        </div>\n        <div className=\"aboutme__avatar\"></div>\n      </div>\n    </section>\n  );\n}\n\nexport default AboutMe;\n","import './Portfolio.css';\n\nconst Portfolio = () => {\n  return(\n    <section className=\"portfolio\">\n      <h2 className=\"portfolio__title\">Портфолио</h2>\n      <ul className=\"portfolio_list\">\n        <li className=\"portfolio_item\">\n          <a href=\"https://antohakriukow.github.io/how-to-learn/\" className=\"portfolio_link\" target=\"blank\">Статичный сайт</a>\n        </li>\n        <li className=\"portfolio_item\">\n          <a href=\"https://antohakriukow.github.io/russian-travel/\" className=\"portfolio_link\" target=\"blank\">Адаптивный сайт</a>\n        </li>\n        <li className=\"portfolio_item\">\n          <a href=\"https://antohakriukow.github.io/mesto/\" className=\"portfolio_link\" target=\"blank\">Одностраничное приложение</a>\n        </li>\n      </ul>\n    </section>\n  );\n}\n\nexport default Portfolio;\n","import Promo from '../Promo/Promo';\nimport AboutProject from '../AboutProject/AboutProject';\nimport Techs from '../Techs/Techs';\nimport AboutMe from '../AboutMe/AboutMe';\nimport Portfolio from '../Portfolio/Portfolio';\nimport './Main.css';\n\nconst Main = () => {\n  return (\n    <main>\n        <Promo />\n        <AboutProject />\n        <Techs />\n        <AboutMe />\n        <Portfolio />\n    </main>\n  );\n};\n\nexport default Main;\n","import './Footer.css';\n\nconst Footer = ({ path }) => {\n  const classSwitcher = `footer ${\n    (path === '/profile' || path === '/signin' || path === '/signup')\n    ? \"footer_hidden\"\n    : \"\"\n  }`\n\n  return(\n    <section className={classSwitcher}>\n      <p className=\"footer__text\">Учебный проект Яндекс.Практикум х BeatFilm.</p>\n      <div className=\"footer__flex-area\">\n        <p className=\"footer_copyright\">© Антон Крюков | 2021</p>\n        <ul className=\"footer__links\">\n          <li className=\"footer__link-item\">\n            <a href=\"https://praktikum.yandex.ru\" className=\"footer__link\">Яндекс.Практикум</a>\n          </li>\n          <li className=\"footer__link-item\">\n            <a href=\"https://github.com/antohakriukow?tab=repositories\" className=\"footer__link\">Github</a>\n          </li>\n          <li className=\"footer__link-item\">\n            <a href=\"https://www.facebook.com/\" className=\"footer__link\">Facebook</a>\n          </li>\n        </ul>\n      </div>\n    </section>\n  );\n}\n\nexport default Footer;\n","import { NavLink } from \"react-router-dom\";\n\nimport './Menu.css';\n\nconst Menu = ({ isMenuOpened, handleMenuSwitcher }) => {\nconst classSwitcher = isMenuOpened\n  ? \"menu__overlay\"\n  : \"menu__overlay menu_hidden\"\n\n  return(\n    <section className={classSwitcher}>\n      <div className=\"menu\">\n      <button className=\"menu__close-btn\"onClick={handleMenuSwitcher} />\n      <nav className=\"menu__area\">\n        <div className=\"menu__top\">\n          <NavLink to=\"/\" className=\"menu__item\" onClick={handleMenuSwitcher}>Главная</NavLink>\n          <NavLink to=\"/movies\" className=\"menu__item\" onClick={handleMenuSwitcher}>Фильмы</NavLink>\n          <NavLink to=\"/saved-movies\" className=\"menu__item\" onClick={handleMenuSwitcher}>Сохраненные фильмы</NavLink>\n        </div>\n        <NavLink to=\"/profile\" className=\"menu__item menu__item_oval\" onClick={handleMenuSwitcher}>Аккаунт</NavLink>\n      </nav>\n    </div>\n    </section>\n  );\n}\n\nexport default Menu;\n","import './Popup.css';\n\nconst Popup = ({\n  text,\n  isOpen,\n  onClose,\n  onClick\n  }) => {\n\n  return (\n    <section\n      className={`popup ${isOpen && 'popup_opened'}`}\n      onClick={onClick}\n    >\n      <div className=\"popup__container\">\n        <button\n          className=\"popup__close-btn\"\n          type=\"button\"\n          onClick={onClose}\n        />\n        <p className=\"popup__text\">\n          {text}\n        </p>\n      </div>\n    </section>\n  );\n}\n\nexport default Popup;\n","import { useState, useCallback } from 'react';\n\nexport function useForm(initialValues) {\n  const [values, setValues] = useState(initialValues);\n  const [isOk, setIsOk] = useState(false);\n  const [errors, setErrors] = useState({});\n\n  const handleChange = (evt) => {\n    const name = evt.target.name;\n    const value = evt.target.value;\n    setValues({...values, [name]: value});\n    setIsOk(evt.target.closest(\"form\").checkValidity());\n    setErrors({...errors, [name]: evt.target.validationMessage });\n  };\n\n  const resetForm = useCallback(\n    (resetedValues = {}, resetedIsOk = false, resetedErrors = {}) => {\n      setValues(resetedValues);\n      setIsOk(resetedIsOk);\n      setErrors(resetedErrors);\n    },\n    [setValues, setIsOk, setErrors]\n  );\n\n  return { values, handleChange, errors, isOk, resetForm };\n}\n","import React from 'react'\nimport './Preloader.css'\n\nconst Preloader = () => {\n  return (\n    <div className=\"preloader\">\n      <div className=\"preloader__container\">\n        <span className=\"preloader__round\"></span>\n      </div> \n    </div>\n  )\n};\n\nexport default Preloader\n","import { NavLink } from \"react-router-dom\";\nimport { useForm } from '../../hooks/useForm.hook';\n\nimport Preloader from '../Preloader/Preloader';\nimport './Login.css';\n\nconst Login = ({ onSignIn, isLoading }) => {\n  const { values, handleChange, errors, isOk } = useForm({});\n\n  const onSubmit = (evt) => {\n    if (isOk) {\n      evt.preventDefault();\n      onSignIn(values.email, values.password)\n    }\n  }\n\n  return(\n    <section className=\"login\">\n      {isLoading && <Preloader />}\n      <div className=\"login__container\">\n        <a href=\"/\" className=\"login__header\">.</a>\n        <h2 className=\"login__greetings\">Рады видеть</h2>\n        <form className=\"login__form\" name=\"login\" method=\"POST\" onSubmit={onSubmit}>\n          <label className=\"login__input-title\">Email</label>\n          <input\n            onChange={handleChange}\n            className={`login__input ${errors && errors[\"email\"] && 'login__input_type_error'}`}\n            type=\"email\"\n            name=\"email\"\n            required\n            id=\"login-email\"\n            pattern=\"[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+(?:[a-z]{2,})\\b\"\n          ></input>\n          <span className=\"login__input-error\" id=\"email-input-error\">\n            {errors && errors[\"email\"] && errors[\"email\"]}\n          </span>\n          <label className=\"login__input-title\">Пароль</label>\n          <input\n            onChange={handleChange}\n            className=\"login__input\"\n            type=\"password\"\n            name=\"password\"\n            required\n            id=\"login-password\"\n          ></input>\n          <span className=\"login__input-error\" id=\"password-input-error\">\n            {errors && errors[\"password\"] && errors[\"password\"]}\n          </span>\n          <button\n            className={`login__submit-btn`}\n            type=\"submit\"\n            disabled={!isOk}\n            >\n            Войти\n          </button>\n        </form>\n        <p className=\"login__text\">\n        Ещё не зарегистрированы?\n          <NavLink\n            to=\"/signup\"\n            className=\"login__link\"\n          >\n            Регистрация\n          </NavLink>\n        </p>\n      </div>\n    </section>\n  );\n}\n\nexport default Login;\n","import { NavLink } from \"react-router-dom\";\nimport { useForm } from '../../hooks/useForm.hook';\n\nimport Preloader from '../Preloader/Preloader';\nimport './Register.css';\n\nconst Register = ({ onSignUp, isLoading }) => {\n  const { values, handleChange, errors, isOk } = useForm({});\n\n  const onSubmit = (evt) => {\n    if (isOk) {\n      evt.preventDefault();\n      onSignUp(values.email, values.password, values.name)\n    }\n  }\n\n  return(\n    <section className=\"register\">\n      {isLoading && <Preloader />}\n      <div className=\"register__container\">\n        <a href=\"/\" className=\"register__header\">.</a>\n        <h2 className=\"register__greetings\">Добро пожаловать</h2>\n        <form className=\"register__form\" name=\"login\" onSubmit={onSubmit}>\n          <label className=\"register__input-title\">Имя</label>\n          <input\n            onChange={handleChange}\n            className={`register__input ${errors && errors[\"name\"] && 'register__input_type_error'}`}\n            type=\"text\"\n            name=\"name\"\n            minLength=\"2\"\n            maxLength=\"40\"\n          />\n          <span className=\"register__input-error\" id=\"name-input-error\">\n            {errors && errors[\"name\"] && errors[\"name\"]}\n          </span>\n          <label className=\"register__input-title\">Email</label>\n          <input\n            onChange={handleChange}\n            className={`register__input ${errors && errors[\"email\"] && 'register__input_type_error'}`}\n            type=\"email\"\n            name=\"email\"\n            required\n            pattern=\"[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+(?:[a-z]{2,})\\b\"\n          ></input>\n          <span className=\"register__input-error\" id=\"email-input-error\">\n            {errors && errors[\"email\"] && errors[\"email\"]}\n          </span>\n          <label className=\"register__input-title\">Пароль</label>\n          <input\n            onChange={handleChange}\n            className=\"register__input\"\n            type=\"password\"\n            name=\"password\"\n            required\n          ></input>\n          <span className=\"register__input-error\" id=\"password-input-error\">\n            {errors && errors[\"password\"] && errors[\"password\"]}\n          </span>\n          <button\n          className={`register__submit-btn`}\n          type=\"submit\"\n          disabled={!isOk}\n          >\n            Зарегистрироваться\n          </button>\n        </form>\n        <p className=\"register__text\">\n          Уже зарегистрированы?\n          <NavLink\n            to=\"/signin\"\n            className=\"register__link\"\n          >\n            Войти\n          </NavLink>\n        </p>\n      </div>\n    </section>\n  );\n}\n\nexport default Register;\n\n","import React from \"react\";\n\nexport const CurrentUserContext = React.createContext();\n","import React, { useContext, useEffect } from 'react';\nimport { NavLink } from 'react-router-dom';\nimport { CurrentUserContext } from '../../contexts/CurrentUserContext';\nimport { useForm } from '../../hooks/useForm.hook';\n\nimport Preloader from '../Preloader/Preloader';\nimport './Profile.css';\n\nconst Profile = ({ handleSignOut, handleUpdateUser, isLoading }) => {\n  const { values, handleChange, errors, isOk } = useForm({});\n  const { currentUser } = useContext(CurrentUserContext);\n\n  const onSubmit = (e) => {\n    if (isOk) {\n      e.preventDefault();\n      console.log(\"values: \", values.email, values.name)\n      handleUpdateUser(values.email, values.name)\n    }\n  }\n\n  useEffect(() => {\n    values.name = currentUser.name;\n    values.email = currentUser.email;\n  }, [currentUser]);\n\n  return (\n    <section className=\"profile\">\n      <form className=\"profile__form\" onSubmit={onSubmit}>\n        <h3 className=\"profile__greeting\">Привет, {currentUser.name} !</h3>\n        {isLoading && <Preloader />}\n        <div className=\"profile__input-area\">\n          <p className=\"profile__label\">Имя</p>\n          <div className=\"profile__area\">\n            <input\n              onChange={handleChange}\n              className={`profile__input ${errors && errors[\"name\"] && 'profile__input_type_error'}`}\n              placeholder={currentUser.name}\n              name=\"name\"\n              minLength=\"2\"\n              maxLength=\"30\"\n              required\n            />\n            <span className=\"profile__input-error\" id=\"name-input-error\">\n              {errors && errors[\"name\"] && errors[\"name\"]}\n            </span>\n          </div>\n          <div className=\"profile__area\">\n            <input\n              onChange={handleChange}\n              className={`profile__input ${errors && errors[\"email\"] && 'profile__input_type_error'}`}\n              placeholder={currentUser.email}\n              type=\"email\"\n              name=\"email\"\n              required\n              pattern=\"[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+(?:[a-z]{2,})\\b\">\n            </input>\n            <span className=\"profile__input-error\" id=\"email-input-error\">\n              {errors && errors[\"email\"] && errors[\"email\"]}\n            </span>\n          </div>\n          <p className=\"profile__label\">E-mail</p>\n        </div>\n        <button type=\"submit\" className=\"profile__submit-btn\" disabled={!isOk}>Редактировать</button>\n        <NavLink onClick={handleSignOut} to=\"/\" className=\"profile__exit-btn\">Выйти из аккаунта</NavLink>\n      </form>\n    </section>\n  );\n};\n\nexport default Profile;\n\n","import \"./Checkbox.css\";\n\nconst Checkbox = ({\n  setShort,\n  handleFilterMovies,\n  values,\n  short,\n  searchInSaved,\n  movie,\n  handleChange,\n  shortFilterMovies\n}) => {\n\n  const handleClick = (evt) => {\n    const query = evt.target.parentNode.parentNode.parentNode.parentNode.childNodes[0].childNodes[0].value\n    setShort(evt.target.checked)\n    console.log(evt.target.checked)\n    handleFilterMovies(query, evt.target.checked)\n  }\n\n\n\n  return (\n    <div className=\"checkbox\">\n      <div className=\"checkbox__container\">\n        <label className=\"checkbox__label\">\n          <input\n            type=\"checkbox\"\n            className=\"checkbox__input\"\n            onChange={handleChange}\n            onClick={handleClick}\n          />\n          <span className=\"checkbox__decorator\"></span>\n        </label>\n      </div>\n      <p className=\"checkbox__title\">Короткометражки</p>\n    </div>\n  );\n}\n\nexport default Checkbox;\n","export default __webpack_public_path__ + \"static/media/search_icon.9d65490b.svg\";","import React, { useState } from 'react';\n\nimport { useForm } from '../../hooks/useForm.hook';\n\nimport Checkbox from '../Checkbox/Checkbox';\nimport searchIcon from '../../images/search_icon.svg'\nimport './SearchForm.css';\n// import './Checkbox.css'\n\nconst SearchForm = ({ handleFilterMovies, path, shortFilterMovies }) => {\n  const { values, handleChange } = useForm({})\n  const [short, setShort] = useState(false);\n\n  // const searchInSaved = (path === '/saved-movies') ? true : false\n\n  const handleSubmit = (evt) => {\n    evt.preventDefault();\n    handleFilterMovies(values.movie, short)\n  }\n\n\n  return(\n    <section className=\"searchform\">\n      <div className=\"searchform__decorator\">\n        <img className=\"searchform__icon\" src={searchIcon} alt='search__icon' />\n      </div>\n        <form\n        className=\"searchform__form\"\n        onSubmit = { handleSubmit }\n        >\n          <div className=\"searchform__bar\">\n            <input\n              className=\"searchform__input\"\n              placeholder=\"Фильм\"\n              name=\"movie\"\n              onChange={handleChange}\n            />\n            <button className=\"searchform__submit-btn\"></button>  \n          </div>\n          <div className=\"searchform__vertical-separator\" />\n          <Checkbox\n            setShort={setShort}\n            handleFilterMovies={handleFilterMovies}\n            handleChange={handleChange}\n          />\n        </form>\n      <div className=\"searchform__separator\" />\n    </section>\n  );\n}\n\nexport default SearchForm;\n\n","export default __webpack_public_path__ + \"static/media/like-btn.2b272c0c.svg\";","export default __webpack_public_path__ + \"static/media/like-btn_active.f9f18674.svg\";","export default __webpack_public_path__ + \"static/media/delete-btn.16c8c45c.svg\";","import React from \"react\";\n\nimport likeBtn from '../../images/like-btn.svg';\nimport likeBtnActive from '../../images/like-btn_active.svg';\nimport deleteBtn from '../../images/delete-btn.svg';\n\nimport './MoviesCard.css';\n\nconst MoviesCard = ({ card, path, saveMovie, deleteMovie, userMovies }) => {\n  const isSaved = userMovies.find(m => m.nameRU === card.nameRU)\n\n  const handleSaveBtn = () => isSaved ? deleteMovie(card) : saveMovie(card)\n\n  const handleDeleteBtn = () => deleteMovie(card)\n\n  const handleSaveBtnVisibility = (path === '/saved-movies') && 'none'\n  const handleDeleteBtnVisibility = (path === '/movies') && 'none'\n\n  return(\n    <li className=\"card\">\n      <a href={card.trailer} target=\"blank\">\n        <img\n          className=\"card__img\"\n          src={card.image}\n          alt={card.nameRU}\n          />\n      </a>\n      <div className=\"card__info\">\n        <p className=\"card__title\">{card.nameRU}</p>\n        <img\n          src={isSaved ? likeBtnActive : likeBtn}\n          className=\"card__action-btn\"\n          alt=\"like-button\"\n          style={{display: handleSaveBtnVisibility}}\n          onClick={handleSaveBtn}\n        />\n        <img\n          src={deleteBtn}\n          className=\"card__action-btn\"\n          alt=\"delete-button\"\n          style={{display: handleDeleteBtnVisibility}}\n          onClick={handleDeleteBtn}\n        />\n      </div>\n      <p className=\"card__duration\">{\n        card.duration < 60\n        ? `${card.duration}м`\n        : `${Math.trunc(card.duration / 60)}ч ${card.duration - 60 * Math.trunc(card.duration / 60)}м`\n        }</p>\n    </li>\n  );\n}\n\nexport default MoviesCard;\n","import React from 'react';\n\nimport './MoviesCardListSpan.css'\n\nconst MoviesCardListSpan = ({ spanText }) => {\n  return (\n    <span className=\"movies-span\">\n      {spanText}\n    </span>\n  )\n}\n\nexport default MoviesCardListSpan;\n","const moviesApiUrl = \"https://api.nomoreparties.co\";\nconst apiUrl = \"https://api.dip.students.nomoredomains.monster\";\nconst defaultMovieImg = \"https://static.baza.drom.ru/drom/1603795701124_bulletin\";\nconst defaultTrailerUrl = \"https://youtube.com\"\n\nexport {\n  moviesApiUrl,\n  apiUrl,\n  defaultMovieImg,\n  defaultTrailerUrl\n}\n","import { moviesApiUrl, defaultMovieImg, defaultTrailerUrl } from './config';\n\nconst filterMovies = (query, movies, searchInSaved = false) => {\n  if (searchInSaved && (query === '')) {\n    return movies\n  }\n  if (!searchInSaved && (query.length < 1) && (movies.length < 100)) {\n    return movies.filter((movie) => movie.nameRU.toLowerCase().includes(query.toLowerCase()))\n  }\n  if (query.length < 1) {return []}\n  return movies.filter((movie) => movie.nameRU.toLowerCase().includes(query.toLowerCase())\n  // || movie.description.toLowerCase().includes(query.toLowerCase())\n  )\n}\n\nconst shortFilterMovies = (movies) => {\n  return movies.filter((movie) => movie.duration <= 40)\n}\n\n\nconst movieFormatAdopter = (importedMovie) => {\n  return {\n    country: importedMovie.country,\n    director: importedMovie.director,\n    duration: importedMovie.duration,\n    year: importedMovie.year,\n    description: importedMovie.description,\n    image: importedMovie.image ? `${moviesApiUrl}${importedMovie.image.url}` : defaultMovieImg,\n    trailer: importedMovie.trailerLink && importedMovie.trailerLink.includes('http') ? importedMovie.trailerLink : defaultTrailerUrl,\n    thumbnail: `${moviesApiUrl}${importedMovie.image && importedMovie.image.formats ? importedMovie.image.formats.thumbnail.url : defaultMovieImg}`,\n    movieId: importedMovie.id,\n    nameRU: importedMovie.nameRU ? importedMovie.nameRU : \"Данные отсутствуют\",\n    nameEN: importedMovie.nameEN ? importedMovie.nameEN : \"Данные отсутствуют\"\n  }\n}\n\nconst moviesErrorText = \"Во время запроса произошла ошибка. Возможно, проблема с соединением или сервер недоступен. Подождите немного и попробуйте ещё раз\";\nconst noFilmsText = \"У Вас нет сохраненных фильмов!\";\nconst notFoundErrorText = \"Ничего не найдено.\";\n\nexport {\n  filterMovies,\n  shortFilterMovies,\n  movieFormatAdopter,\n  moviesErrorText,\n  noFilmsText,\n  notFoundErrorText\n};\n","import React, { useCallback, useEffect, useState } from 'react';\n\nimport Preloader from '../Preloader/Preloader';\nimport MoviesCard from '../MoviesCard/MoviesCard'\nimport MoviesCardListSpan from '../MoviesCardListSpan/MoviesCardListSpan'\n\nimport {\n  moviesErrorText,\n  noFilmsText,\n  notFoundErrorText\n} from '../../utils/utils';\nimport './MoviesCardList.css';\n\n\nconst MoviesCardList = ({\n  path,\n  movies,\n  userMovies,\n  isSearchCompleted,\n  saveMovie,\n  deleteMovie,\n  isLoading,\n  moviesError,\n  notFoundError\n}) => {\n  const [initialMoviesCount, setInitialMoviesCount] = useState(() => {\n    if (path === '/saved-movies') {\n      return 1000\n    }\n    const size = window.innerWidth;\n    if (size < 480) {\n      return 5;\n    } else if (size < 1041) {\n      return 8;\n    } else if (size <= 1279) {\n      return 12;\n    } else if (size > 1279) {\n      return 16;\n    }\n  })\n\n  const [increaseMoviesCount, setIncreaseMoviesCount] = useState(() => {\n    const size = window.innerWidth;\n    if (size < 480) {\n      return 2;\n    } else if (size < 1041) {\n      return 2;\n    } else if (size <= 1279) {\n      return 3;\n    } else if (size > 1279) {\n      return 4;\n    }\n  })\n\n  const handleResize = useCallback(() => {\n    if (path === '/saved-movies') {\n      setInitialMoviesCount(1000);\n    }\n    const size = window.innerWidth;\n    if (size < 480) {\n      setInitialMoviesCount(5);\n      setIncreaseMoviesCount(2);\n    } else if (size < 1041) {\n      setInitialMoviesCount(8);\n      setIncreaseMoviesCount(2);\n    } else if (size <= 1279) {\n      setInitialMoviesCount(12);\n      setIncreaseMoviesCount(3);\n    } else if (size > 1279) {\n      setInitialMoviesCount(16);\n      setIncreaseMoviesCount(4);\n    }\n  }, [path])\n\n  const handleIncreaseMovies = () => {\n    setInitialMoviesCount(prev =>  prev + increaseMoviesCount);\n  }\n\n  \n  const initialMoviesSetter = () => {\n    let initialArr = JSON.parse(localStorage.getItem('initialMovies'))\n    if (initialArr) {\n      const initialMovies = (path === '/movies')\n      ? JSON.parse(localStorage.getItem('initialMovies'))\n      : JSON.parse(localStorage.getItem('savedMovies'))\n      return initialMovies\n    }\n    return []\n  }\n\n  const visibleMovies = (path === '/movies') ? movies.slice(0, initialMoviesCount) : movies\n  const memoisedFilms = (path === '/movies') ? initialMoviesSetter().slice(0, initialMoviesCount) : initialMoviesSetter()\n  const arrSwitcher = isSearchCompleted ? visibleMovies : memoisedFilms\n\n  useEffect(() => {\n    window.addEventListener('resize', handleResize);\n  }, [handleResize])\n\n  useEffect(() => {\n    initialMoviesSetter()\n  })\n\n  const savedMoviesTrigger = (path === '/saved-movies') && 'none'\n\n  const moreFilmsBtnTrigger = () => {\n    if (path === '/saved-movies') {return 'none'}\n    if (JSON.parse(localStorage.getItem('initialMovies')) && (memoisedFilms.length < JSON.parse(localStorage.getItem('initialMovies')).length)) {return ''}\n    if (visibleMovies.length === movies.length) {return 'none'}\n    return ''\n  }\n\n  const noSavedMovies = () => {\n    if (localStorage.getItem('savedMovies')) {\n      const arrayLength = JSON.parse(localStorage.getItem('savedMovies')).length\n      if ((arrayLength === 0) || (arrayLength === null)) {\n        return true\n      } else {return false}\n    }\n  }\n\n\n\n  return(\n    <section className=\"moviescardlist\">\n      {isLoading && <Preloader />}\n      {savedMoviesTrigger && noSavedMovies() && <MoviesCardListSpan spanText={noFilmsText}/>}\n      {moviesError && <MoviesCardListSpan spanText={moviesErrorText}/>}\n      {notFoundError && isSearchCompleted && <MoviesCardListSpan spanText = {notFoundErrorText}/>}\n      <ul className=\"moviescardlist__area\">\n        {arrSwitcher.map((card) => (\n          <MoviesCard \n            key={card.movieId}\n            card={card}\n            path={path}\n            saveMovie={saveMovie}\n            deleteMovie={deleteMovie}\n            userMovies={userMovies}\n          />\n        ))}\n      </ul>\n      {<button\n      className=\"moviescardlist__show-more-btn\"\n      style={{display: moreFilmsBtnTrigger()}}\n      onClick={handleIncreaseMovies}\n      >Ещё</button>}\n    </section>\n  );\n}\n\nexport default MoviesCardList;\n","import React from 'react';\n\nimport SearchForm from \"../SearchForm/SearchForm\";\nimport MoviesCardList from '../MoviesCardList/MoviesCardList';\n\n\nimport './Movies.css';\n\nconst Movies = ({\n  renderPath,\n  movies,\n  userMovies,\n  handleFilterMovies,\n  isSearchCompleted,\n  saveMovie,\n  deleteMovie,\n  isLoading,\n  moviesError,\n  notFoundError,\n  shortFilterMovies,\n  }) => {\n\n\n  return (\n    <section className=\"movies\">\n      <SearchForm\n        handleFilterMovies={handleFilterMovies}\n        path={renderPath}\n        shortFilterMovies={shortFilterMovies}\n      />\n      <MoviesCardList\n        path={renderPath}\n        movies={movies}\n        userMovies={userMovies}\n        isSearchCompleted={isSearchCompleted}\n        saveMovie={saveMovie}\n        deleteMovie={deleteMovie}\n        isLoading={isLoading}\n        moviesError={moviesError}\n        notFoundError={notFoundError}\n      />\n    </section>\n  )\n}\n\nexport default Movies;\n","import SearchForm from \"../SearchForm/SearchForm\";\nimport MoviesCardList from '../MoviesCardList/MoviesCardList';\n\nimport './SavedMovies.css';\n\nconst SavedMovies = ({\n  renderPath,\n  movies,\n  userMovies,\n  handleFilterMovies,\n  isSearchCompleted,\n  saveMovie,\n  deleteMovie,\n  moviesError,\n  notFoundError,\n  shortFilterMovies,\n  }) => {\n\n  return(\n    <section className=\"savedmovies\">\n      <SearchForm\n        handleFilterMovies={handleFilterMovies}\n        path={renderPath}\n        shortFilterMovies={shortFilterMovies}\n      />\n      <MoviesCardList\n        path={renderPath}\n        movies={movies}\n        userMovies={userMovies}\n        isSearchCompleted={isSearchCompleted}\n        saveMovie={saveMovie}\n        deleteMovie={deleteMovie}\n        moviesError={moviesError}\n        notFoundError={notFoundError}\nы      />\n    </section>\n    \n  );\n}\n\nexport default SavedMovies;\n","import { NavLink } from \"react-router-dom\";\n\nimport './NotFound.css';\n\nconst NotFound = () => {\n  return(\n    <section className=\"notfound\">\n      <div className=\"notfound__container\">\n        <h2 className=\"notfound__title\">404</h2>\n        <p className=\"notfound__text\">Страница не найдена</p>\n        <NavLink to=\"/\" className=\"notfound__link\">\n          Назад\n        </NavLink>\n      </div>\n    </section>\n  );\n}\n\nexport default NotFound;\n","import { Redirect, Route } from \"react-router-dom\";\n\n\nconst ProtectedRoute = ({ component: Component, ...props }) => {\n  return (\n    <Route>\n      {\n        () => props.isAutenticated\n          ? <Component {...props} />\n          : <Redirect to=\"./signin\" />\n      }\n    </Route>\n  );\n}\n\nexport default ProtectedRoute;\n","import { moviesApiUrl } from './config';\n\nclass MoviesApi {\n  constructor({ url }) {\n    this.url = url;\n  }\n\n  getCheckedResponse(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(`Sorry, something went wrong. Error: ${res.status}`);\n  }\n\n  getMovies() {\n    return fetch(`${this.url}/beatfilm-movies`,\n    {\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json'\n      },\n    })\n    .then(this.getCheckedResponse);\n  }\n}\n\nconst moviesApi = new MoviesApi({ url: moviesApiUrl })\n\nexport default moviesApi;\n","import { apiUrl } from \"./config\";\n\nclass MainApi {\n  constructor({ url }) {\n    this.url = url;\n  }\n\n  getCheckedResponse(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(`Sorry, something went wrong. Error: ${res.status}`);\n  }\n\n  getSavedMovies(jwt) {\n    return fetch(`${this.url}/movies`, {\n      headers: {\n        authorization: `Bearer ${jwt}`,\n        'Content-Type': 'application/json'\n      }\n    }).then((res) => this.getCheckedResponse(res));\n  }\n\n  saveMovie(jwt, movie) {\n    return fetch(`${this.url}/movies`, {\n      headers: {\n        authorization: `Bearer ${jwt}`,\n        'Content-Type': 'application/json'\n      },\n      method: 'POST',\n      body: JSON.stringify(movie)\n    })\n      .then((res) => this.getCheckedResponse(res));\n  }\n\n  deleteMovie(jwt, movieId) {\n    return fetch(`${this.url}/movies/${movieId}`, {\n      headers: {\n        authorization: `Bearer ${jwt}`,\n        'Content-Type': 'application/json'\n      },\n      method: 'DELETE',\n    })\n      .then((res) => this.getCheckedResponse(res));\n  }\n\n  getUserData(jwt) {\n    return fetch(`${this.url}/users/me`, {\n      headers: {\n        authorization: `Bearer ${jwt}`,\n        'Content-Type': 'application/json'\n      }\n    })\n      .then((res) => this.getCheckedResponse(res));\n  }\n\n  updateUserData(jwt, email, name) {\n    return fetch(`${this.url}/users/me`, {\n      headers: {\n        authorization: `Bearer ${jwt}`,\n        'Content-Type': 'application/json'\n      },\n      method: 'PATCH',\n      body: JSON.stringify({\n        email,\n        name\n      })\n    })\n      .then((res) => this.getCheckedResponse(res));\n  }\n\n  switchMovieStatus(jwt, movie, movieId, isSaved) {\n    return isSaved ? this.deleteMovie(jwt, movieId) : this.saveMovie(jwt, movie);\n  }\n};\n\nconst mainApi = new MainApi({ url: apiUrl });\n\nexport default mainApi;\n","import { apiUrl } from \"../utils/config\";\n\nconst checkToken = (token) => {\n  return fetch(`${apiUrl}/users/me`, {\n    method: \"GET\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${token}`,\n    },\n  })\n    .then((res) => res.json())\n    .then((data) => data);\n};\n\nconst signUp = (email, password, name) => {\n  return fetch(`${apiUrl}/signup`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({\n      email, password, name\n    }),\n  })\n    .then((res) => res.json())\n    .then((res) => res);\n};\n\nconst singIn = (email, password) => {\n  return fetch(`${apiUrl}/signin`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({\n      password: password,\n      email: email,\n    }),\n  })\n    .then((res) => res.json())\n    .then((data) => {\n      if (data.token) {\n        localStorage.setItem(\"jwt\", data.token);\n        return data;\n      }\n    });\n};\n\nexport {\n  checkToken,\n  signUp,\n  singIn\n}\n","import React, { useEffect, useState, useCallback } from 'react';\nimport { Route, Switch, useHistory } from 'react-router-dom';\nimport { useLocation } from 'react-router';\n\nimport Header from '../Header/Header';\nimport Main from '../Main/Main';\nimport Footer from '../Footer/Footer';\nimport Menu from '../Menu/Menu';\nimport Popup from '../Popup/Popup';\n\nimport Login from '../Login/Login';\nimport Register from '../Register/Register';\nimport Profile from '../Profile/Profile';\nimport Movies from '../Movies/Movies';\nimport SavedMovies from '../SavedMovies/SavedMovies';\nimport NotFound from '../NotFound/NotFound';\n\nimport ProtectedRoute from '../ProtectedRoute/ProtectedRoute';\nimport moviesApi from '../../utils/MoviesApi';\nimport mainApi from '../../utils/MainApi';\nimport { checkToken, signUp, singIn } from '../../utils/AuthApi';\nimport { movieFormatAdopter, filterMovies, shortFilterMovies } from '../../utils/utils';\n\nimport { CurrentUserContext } from \"../../contexts/CurrentUserContext\";\n\nimport './App.css';\n\nfunction App() {\n\n//Visual effects\nconst [isMenuOpened, setIsMenuOpened] = useState(false);\nconst handleMenuSwitcher = () => isMenuOpened ? setIsMenuOpened(false) : setIsMenuOpened(true)\n\n//App Logic\n  const location = useLocation();\n  const history = useHistory();\n\n  const [isLoading, setIsLoading] = useState(false);\n  const [isSearchCompleted, setIsSearchCompleted] = useState(false)\n\n  const [movies, setMovies] = useState([]);\n\n  const [currentUser, setCurrentUser] = useState({});\n  const [userMovies, setUserMovies] = useState([]);\n  const [isAutenticated, setIsAutenticated] = useState(false);\n\n  const [moviesError, setMoviesError] = useState(false);\n  const [notFoundError, setNotFoundError] = useState(false);\n\n  const [popupText, setPopupText] = useState('')\n  const [popupIsOpen, setPopupIsOpen] = useState(false)\n\n\n  useEffect(() => {\n    const jwt = localStorage.getItem(\"jwt\");\n    if (isAutenticated) {\n      setIsLoading(true);\n      Promise.all([\n        mainApi.getUserData(jwt),\n        mainApi.getSavedMovies(jwt)\n      ])\n        .then(data => {\n          const [userData, userMovies] = data;\n          localStorage.setItem('savedMovies', JSON.stringify(userMovies));\n          setCurrentUser(userData);\n          setUserMovies(userMovies);\n          setIsLoading(false)\n        })\n    }\n  }, [isAutenticated, currentUser.id, location]);\n\n\n  const handleCheckToken = useCallback(() => {\n    if (localStorage.getItem('jwt')) {\n      const jwt = localStorage.getItem('jwt');\n      checkToken(jwt)\n        .then((user) => {\n          if (user) {\n            setCurrentUser(user);\n            setIsAutenticated(true);\n            history.push(location)\n          }\n        })\n        .catch(err => {\n          showPopup(err.message)\n          console.log(err)\n          setIsAutenticated(false);\n          history.push('/')\n          localStorage.clear();\n        })\n    }\n  }, [history])\n\n\n  useEffect(() => {\n    handleCheckToken();\n  }, [handleCheckToken]);\n\n\n  useEffect(() => {\n    location.pathname === '/saved-movies'\n      ? setMovies(userMovies)\n      : (!setIsSearchCompleted && setMovies([]))\n  }, [location.pathname, userMovies])\n\n\n  useEffect(() => {\n    (location.pathname === '/movies') && setMovies([])\n  }, [location.pathname, history])\n\n\n  const handleSignUp = (email, password, name) => {\n    setIsLoading(true)\n    signUp(email, password, name)\n      .then((res) => {\n        if (res.data) {\n          singIn(res.data.email, password)\n            .then((data) => {\n              if (data.token) {\n                setIsAutenticated(true);\n                handleGetMovies()\n                history.push(\"/movies\");\n                showPopup('Вы успешно зарегистрировались!')\n              }\n            })\n        } else {\n          return\n        }\n      })\n      .catch((err) => {\n        showPopup(err.message)\n        console.log(\"handleSignUp error: \", err);\n      })\n      .finally(() => setIsLoading(false))\n  };\n\n\n  const handleSignIn = (email, password) => {\n    setIsLoading(true)\n    singIn(email, password)\n      .then((data) => {\n        if (data.token) {\n          setIsAutenticated(true);\n          handleGetMovies()\n          history.push(\"/movies\");\n          showPopup('Добро пожаловать обратно!')\n        } else {\n          showPopup('Доступ запрещен')\n          return\n        }\n      })\n      .catch((err) => {\n        showPopup(err.message)\n        console.log(\"handleSignIn error: \", err);\n      })\n      .finally(() => setIsLoading(false))\n  };\n\n\n  const handleSignOut = () => {\n    setIsLoading(true);\n    setIsAutenticated(false);\n    setCurrentUser({});\n    localStorage.clear()\n    setMovies([])\n    setUserMovies([])\n    setIsLoading(false);\n    history.push('/')\n  };\n\n\n  const handleUpdateUser = (email, name) => {\n    setIsLoading(true)\n    const jwt = localStorage.getItem('jwt');\n    mainApi\n      .updateUserData(jwt, email, name)\n      .then((user) => {\n        setCurrentUser(user);\n        showPopup('Данные пользователя изменены!')\n      })\n      .catch((err) => console.log(\"handleUpdateUser error: \", err))\n      .finally(() => setIsLoading(false))\n  };\n\n\n  const handleGetMovies = () => {\n    setIsLoading(true)\n    return new Promise((resolve, reject) => {      \n      moviesApi.getMovies()\n        .then(movies => movies.map(movie => movieFormatAdopter(movie)))\n        .then(adoptedMovies => localStorage.setItem('allMovies', JSON.stringify(adoptedMovies)))\n        .catch(err => {\n          setMoviesError(true)\n          showPopup(err.message)\n          console.log(\"handleGetMovies Error: \", err)\n          })\n        .finally(() => setIsLoading(false))\n    }) \n  }\n\n\n  const handleFilterMovies = (query, short = false) => {\n    let searchInSaved = location.pathname === '/saved-movies' ? true : false\n    setIsLoading(true)\n    setIsSearchCompleted(false)\n    setMoviesError(false)\n    setNotFoundError(false)\n    if (searchInSaved && (JSON.parse(localStorage.getItem('savedMovies')).length === 0)) {\n      setIsLoading(false)\n      setIsSearchCompleted(true)\n      return\n    }\n    if (!searchInSaved && query === undefined) {\n      setIsLoading(false)\n      return\n    }\n    if (searchInSaved && !short && (query === undefined || query === '')) {\n      setMovies(userMovies)\n      setIsSearchCompleted(true)\n      setIsLoading(false)\n      return\n    }\n    let arr = searchInSaved ? userMovies : JSON.parse(localStorage.getItem('allMovies'))\n    if (!searchInSaved && (query === '') && JSON.parse(localStorage.getItem('initialMovies'))) {\n      arr = JSON.parse(localStorage.getItem('initialMovies'))\n    }\n    if (!searchInSaved && arr === null) {handleGetMovies()}\n    if (searchInSaved && arr === null) {\n      setIsLoading(false)\n      return\n    }\n    \n    const filtredMovies = short ? shortFilterMovies(filterMovies(query, arr, searchInSaved)) : filterMovies(query, arr)\n    if (filtredMovies.length === 0) {setNotFoundError(true)} \n    setMovies(filtredMovies)\n    console.log('App.js movies: ', movies)\n    !searchInSaved && localStorage.setItem('initialMovies', JSON.stringify(filtredMovies))\n    setIsSearchCompleted(true)\n    setIsLoading(false)\n  }\n\n  const saveMovie = (movie) => {\n    const jwt = localStorage.getItem('jwt');\n    const savedMovies = JSON.parse(localStorage.getItem('savedMovies'));\n    const isSaved = savedMovies.some((mov) => mov.movieId === movie.movieId);\n    if (isSaved) {\n      return\n    }\n    setIsLoading(true);\n    mainApi.saveMovie(jwt, movie)\n      .then((movie) => {\n        const newSavedMovies = [movie, ...savedMovies];\n        localStorage.setItem('savedMovies', JSON.stringify(newSavedMovies));\n        setUserMovies(newSavedMovies);\n      })\n      .catch((err) => console.log(\"saveMovie error: \", err))\n      .finally(() => setIsLoading(false))\n  }\n\n\n  const deleteMovie = (movie) => {\n    setIsLoading(true);\n    const jwt = localStorage.getItem('jwt');\n    const savedMovies = JSON.parse(localStorage.getItem('savedMovies'));\n    const deletingMovieId = savedMovies.find(m => m.movieId === movie.movieId).['_id'];\n    mainApi.deleteMovie(jwt, deletingMovieId)\n      .then((mov) => {\n        const newMovies = savedMovies.filter((movie) => movie.movieId !== mov.movieId);\n        localStorage.setItem('savedMovies', JSON.stringify(newMovies));\n        setUserMovies(newMovies);\n      })\n      .catch((err) => console.log(\"deleteMovie error: \", err))\n      .finally(() => setIsLoading(false))\n  }\n\n\n  const showPopup = (text) => {\n    setPopupText(text)\n    setPopupIsOpen(true)\n  }\n\n  const hidePopup = () => {\n    setPopupIsOpen(false)\n  }\n\n  const hidePopupOnOverlay = (evt) => {\n    if (evt.target === evt.currentTarget) {\n      hidePopup()\n    }\n  }\n\n  return (\n    <CurrentUserContext.Provider value={{currentUser}}>\n      <div className=\"App\">\n\n        <Header\n          path={location.pathname}\n          handleMenuSwitcher={handleMenuSwitcher}\n          isAutenticated={isAutenticated}\n        />\n        \n        <Switch>\n          <Route exact path=\"/\">\n            <Main />\n          </Route>\n          <ProtectedRoute\n            component={Movies}\n            path=\"/movies\"\n            isAutenticated={isAutenticated}\n            renderPath={location.pathname}\n            movies={movies}\n            userMovies={userMovies}\n            handleFilterMovies={handleFilterMovies}\n            isSearchCompleted={isSearchCompleted}\n            saveMovie={saveMovie}\n            deleteMovie={deleteMovie}\n            isLoading={isLoading}\n            moviesError={moviesError}\n            notFoundError={notFoundError}\n            shortFilterMovies={shortFilterMovies}\n          />\n          <ProtectedRoute\n            component={SavedMovies}\n            path=\"/saved-movies\"\n            isAutenticated={isAutenticated}\n            renderPath={location.pathname}\n            movies={movies}\n            userMovies={userMovies}\n            handleFilterMovies={handleFilterMovies}\n            isSearchCompleted={isSearchCompleted}\n            saveMovie={saveMovie}\n            deleteMovie={deleteMovie}\n            moviesError={moviesError}\n            notFoundError={notFoundError}\n            shortFilterMovies={shortFilterMovies}\n          />\n          <Route path=\"/signin\">\n            <Login\n              onSignIn={handleSignIn}\n              isLoading={isLoading}\n            />\n          </Route>\n          <Route path=\"/signup\">\n            <Register\n              onSignUp={handleSignUp}\n              isLoading={isLoading}\n            />\n          </Route>\n          <ProtectedRoute\n            component={Profile}\n            path=\"/profile\"\n            isAutenticated={isAutenticated}\n            handleSignOut={handleSignOut}\n            handleUpdateUser={handleUpdateUser}\n            isLoading={isLoading}\n          />\n          <Route path=\"*\">\n            <NotFound />\n          </Route>\n        </Switch>\n\n        <Footer path={location.pathname}/>\n      </div>\n\n      <Menu\n        isMenuOpened={isMenuOpened}\n        handleMenuSwitcher={handleMenuSwitcher}\n        />\n\n      <Popup\n        text={popupText}\n        isOpen={popupIsOpen}\n        onClose={hidePopup}\n        onClick={hidePopupOnOverlay}\n      />\n\n    </CurrentUserContext.Provider>\n  )\n\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from \"react-router-dom\";\nimport './index.css';\nimport App from './components/App/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter basename={process.env.PUBLIC_URL}>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}